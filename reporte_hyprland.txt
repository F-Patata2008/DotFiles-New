‚îú‚îÄ‚îÄ nvim
‚îú‚îÄ‚îÄ ohmyzsh
‚îú‚îÄ‚îÄ picom
‚îú‚îÄ‚îÄ polybar
‚îú‚îÄ‚îÄ rofi
‚îú‚îÄ‚îÄ rofimoji
‚îú‚îÄ‚îÄ screenshots
‚îú‚îÄ‚îÄ swaylock
‚îú‚îÄ‚îÄ swaync
‚îú‚îÄ‚îÄ wal
‚îú‚îÄ‚îÄ Wallpapers
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Gundam
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ Macross
‚îú‚îÄ‚îÄ waybar
‚îú‚îÄ‚îÄ wlogout
‚îî‚îÄ‚îÄ zsh
50 directories



## My dotfiles repo:
https://github.com/F-Patata2008/DotFiles-New


=========================================
File: GitHub-Recovery/github-recovery-codes.txt
=========================================

02524-3e4cf
fe9b2-9f62f
a8d7f-e3e87
825a5-6fbc2
30ace-adf97
b077d-6b4df
ffdc2-da7e1
118c0-704fb
805f4-bc7ea
6faa4-9416f
af703-c6f48
9324e-a8dc4
a94e8-940f9
58e2b-01847
258ca-66b17
ab9c8-33f9c

=========================================
File: push.sh
=========================================

#!/bin/zsh

cd "$(dirname "$0")"  # Ir al directorio donde est√° el script

log_file="$PWD/push.log"
timestamp="$(date '+%Y-%m-%d %H:%M:%S')"

{
  echo "========== $timestamp =========="

  git add .

  if git diff --cached --quiet; then
    echo "[$timestamp] No hay cambios para commitear."
    notify-send "Git Auto Push" "No hay cambios para commitear."
    exit 0
  fi

  echo -n "Mensaje de commit (dejar vac√≠o para 'Auto-commit'): "
  read commit_message

  if [[ -z "$commit_message" ]]; then
    commit_message="Patata: $timestamp"
  fi

  echo "Haciendo commit..."
  git commit -m "$commit_message"

  echo "Haciendo push..."
  if git push -u origin main; then
    echo "[$timestamp]  Push exitoso"
    notify-send "Git Auto Push" "‚úÖ Push realizado con √©xito"
  else
    echo "[$timestamp] ‚ùå Error al hacer push"
    notify-send "Git Auto Push" "‚ùå Error al hacer push"
    exit 1
  fi

} | tee -a "$log_file"
git status > /dev/null






=========================================
File: i3/.config/i3/scripts/memory
=========================================

#!/usr/bin/env sh
TYPE="${BLOCK_INSTANCE:-mem}"
PERCENT="${PERCENT:-true}"

awk -v type=$TYPE -v percent=$PERCENT '
/^MemTotal:/ {
	mem_total=$2
}
/^MemFree:/ {
	mem_free=$2
}
/^Buffers:/ {
	mem_free+=$2
}
/^Cached:/ {
	mem_free+=$2
}
/^SwapTotal:/ {
	swap_total=$2
}
/^SwapFree:/ {
	swap_free=$2
}
END {
	if (type == "swap") {
		free=swap_free/1024/1024
		used=(swap_total-swap_free)/1024/1024
		total=swap_total/1024/1024
	} else {
		free=mem_free/1024/1024
		used=(mem_total-mem_free)/1024/1024
		total=mem_total/1024/1024
	}
	pct=0
	if (total > 0) {
		pct=used/total*100
	}
	# full text
	if (percent == "true" ) {
		printf("%.1fG/%.1fG (%.f%%)\n", used, total, pct)
	} else {
		printf("%.1fG/%.1fG\n", used, total)
	}
	# short text
	printf("%.f%%\n", pct)
	# color
	if (pct > 90) {
		print("#FF0000")
	} else if (pct > 80) {
		print("#FFAE00")
	} else if (pct > 70) {
		print("#FFF600")
	}
}
' /proc/meminfo


=========================================
File: i3/.config/i3/scripts/spotify.py
=========================================

#!/usr/bin/python

import dbus
import os
import sys


try:
    bus = dbus.SessionBus()
    spotify = bus.get_object("org.mpris.MediaPlayer2.spotify", "/org/mpris/MediaPlayer2")


    if os.environ.get('BLOCK_BUTTON'):
        control_iface = dbus.Interface(spotify, 'org.mpris.MediaPlayer2.Player')
        if (os.environ['BLOCK_BUTTON'] == '1'):
            control_iface.Previous()
        elif (os.environ['BLOCK_BUTTON'] == '2'):
            control_iface.PlayPause()
        elif (os.environ['BLOCK_BUTTON'] == '3'):
            control_iface.Next()

    spotify_iface = dbus.Interface(spotify, 'org.freedesktop.DBus.Properties')
    props = spotify_iface.Get('org.mpris.MediaPlayer2.Player', 'Metadata')

    if (sys.version_info > (3, 0)):
        print(str(props['xesam:artist'][0]) + " - " + str(props['xesam:title']))
    else:
        print(props['xesam:artist'][0] + " - " + props['xesam:title']).encode('utf-8')
    exit
except dbus.exceptions.DBusException:
    exit


=========================================
File: i3/.config/i3/scripts/lock.sh
=========================================

#!/bin/sh

BLANK='#00000000'
CLEAR='#ffffff22'
--
[submodule "nvim/.config/nvim/lua/Arduino-Nvim"]
	path = nvim/.config/nvim/lua/Arduino-Nvim
	url = https://github.com/yuukiflow/Arduino-Nvim.git


=========================================
File: rofi/.config/rofi/config.rasi
=========================================

/**
 * Rofi - Main Configuration
 *
 * This file defines the behavior of Rofi:
 * - Which modes are enabled (drun, run, window).
 * - Global settings like font and icons.
 * - The theme to use for the visual appearance.
 */
configuration {
    /* --- List of active modes --- */
    /* You can add/remove modes here, like "filebrowser" */
    modi: "drun,run,window,filebrowser, emoji:rofimoji";

    /* --- General settings --- */
    font: "JetBrainsMono Nerd Font 10";
    show-icons: true; /* Required for mode-switcher icons to display */

    /* --- Display names and icons for modes --- */
    display-drun: "ÔÄâ Apps ";
    display-run: "ÔÑ† Run ";
    display-window: "Ôãê Windows ";
    display-filebrowser: "ÔÅª Files ";
    display-emoji: "Û∞ûÖ Emoji ";

    /* --- Formatting for list items --- */
    drun-display-format: "{name}";
    window-format: "{w} ¬∑ {c} ¬∑ {t}";
}

/*
 * This line imports your custom theme.
 * Rofi applies the settings from above, then the visuals from this file.
 */
@import "~/.config/rofi/theme.rasi"


=========================================
File: rofi/.config/rofi/theme.rasi
=========================================

/**
 * Rofi theme to match the Tokyonight aesthetic
 * Version 3: Corrected selection color and spacing.
 */

configuration {
    font: "JetBrainsMono Nerd Font 12";
    show-icons: true;
}

* {
    background-color: transparent;
    text-color:       #c0caf5;
}

window {
    location:         center;
    anchor:           center;
    background-color: rgba(26, 27, 38, 0.9);
    border:           1px;
    border-color:     rgba(192, 202, 245, 0.2);
    border-radius:    12px;
    width:            40%;
    height:           45%;
    padding:          20px;
}

mainbox {
    children: [ inputbar, listview ];
    spacing:  20px; /* This adds the space you wanted */
}

inputbar {
    children: [ prompt, entry ];
    padding: 12px;
    border-radius: 8px;
    background-color: rgba(0,0,0,0.2);
}

prompt {
    enabled: true;
}

entry {
    placeholder: "Search...";
    placeholder-color: rgba(192, 202, 245, 0.7);
}

listview {
    padding: 5px;
    columns: 1;
    lines: 8;
    cycle: true;
    dynamic: true;
    layout: vertical;
}

element {
    orientation: horizontal;
    padding: 10px;
    border-radius: 8px;
}

element-icon {
    size: 1.8em;
    padding: 0 15px 0 0;
}

element-text {
    vertical-align: 0.5;
}

element.selected {
    background-color: #7aa2f7; /* Blue accent */
    text-color: #1a1b26;       /* Dark text for selected item */
}


=========================================
File: kitty/.config/kitty/kitty.conf
=========================================

font_family      JetBrainsMono Nerd Font
background_opacity 0.85
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 6.0
window_padding_width 5
cursor_shape beam

#include ~/.cache/wal/colors-kitty.conf
#
#
#
background            #181c27
foreground            #ada37a
cursor                #91805a
selection_background  #172539
color0                #181818
color8                #555555
color1                #800009
color9                #ab3834
color2                #48513b
color10               #a6a65d
color3                #cc8a3e
color11               #dcde7b
color4                #566d8c
color12               #2f97c6
color5                #724c7c
color13               #d33060
color6                #5b4f4a
color14               #f3dab1
color7                #ada37e
color15               #f3f3f3
selection_foreground #181c27


=========================================
File: .gitignore
=========================================

push.log


=========================================
File: rofimoji/.config/rofimoji.rc
=========================================

action = copy
files = [emojis, math]
skin-tone = moderate


=========================================
File: wlogout/.config/wlogout/style.css
=========================================

* {
    background-image: none;
    transition: all 0.3s cubic-bezier(.55, 0.0, .28, 1.682); /* Smooth transition from HyDE */
    font-size: 16px;
    border: none;
    box-shadow: none;
}

window {
    background-color: transparent;
}

button {
    color: #c0caf5;
    /* This semi-transparent background is what allows the blur (frost) to work */
--
kitty --class code_window --working-directory "$PROJECT_PATH" nvim . &
sleep 0.5 # Wait for the window to open and be focused

# 2. Set the split ratio for the NEXT window.
#    A value of 0.34 means the new window will take 34% of the space,
#    leaving the current 'code_window' with 66%.
hyprctl dispatch splitratio 0.34

# 3. Launch the first of the smaller windows. This will create the split.
kitty --class input_window --working-directory "$PROJECT_PATH" nvim input &
sleep 0.5 # Wait a moment

# 4. Launch the remaining windows. The dwindle layout will automatically
#    stack them vertically in the smaller pane.
kitty --class compile_window --working-directory "$PROJECT_PATH" zsh -c "cd \"$PROJECT_PATH\"; zsh" &
sleep 0.3 # Wait a moment

kitty --class exec_window --working-directory "$PROJECT_PATH" zsh -c "cd \"$PROJECT_PATH\"; zsh" &


=========================================
File: hypr/.config/hypr/scripts/README.md
=========================================

# Aqui estan mis sricots de hyprland


=========================================
File: hypr/.config/hypr/conf/binds.conf
=========================================

# Keybindings
$mainMod = SUPER

# Application and utility binds
bind = $mainMod, T, exec, kitty
bind = $mainMod, R, exec, rofi -show drun -show-icons
bind = $mainMod, C, killactive,
bind = $mainMod, E, exec, nautilus
bind = $mainMod, L, exec, pidof hyprlock || hyprlock
bind = $mainMod, W, exec, ~/.config/hypr/scripts/reset_waybar.sh
bind = $mainMod, Q, exec, rofi -show run
bind = $mainMod, B, exec, opera
bind = $mainMod, S, exec, spotify

# Hyprland and script binds
#bind = $mainMod SHIFT, return, hyprexpo:expo, toggle
#bind = $mainMod SHIFT, N, exec, ~/.config/hypr/scripts/nigthligth.sh
bind = $mainMod SHIFT, L, exec, $HOME/.config/hypr/scripts/loguot.sh
bind = $mainMod SHIFT, P, exec, hyprpicker -a
bind = $mainMod SHIFT, E, exec, rofi -show filebrowser
bind = $mainMod SHIFT, R, exec, rofi -modi "emoji:rofimoji" -show emoji
bind = $mainMod SHIFT, N, exec, kitty --class Notas -e sh -c "nvim $HOME/Notas.md"
bind = $mainMod SHIFT, F, fullscreen


# Screenshot binds
bind = , PRINT, exec, ~/.config/hypr/scripts/screenshot.sh
bind = shift, PRINT, exec, hyprshot -m output

# Window and layout binds
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = $mainMod, V, togglefloating,

# Focus binds
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Workspace binds
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move to workspace binds
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Mouse binds
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Multimedia keys
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# Player controls
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Clipboard manager
bind = SUPER SHIFT, V, exec,  kitty --class clipse -e 'clipse'


=========================================
File: hypr/.config/hypr/conf/plugins.conf
=========================================

# Plugins
#plugin {
#    hyprexpo {
#        rows = 1
#        cols = 0
#        workspace_method = center
#        gap_size = 8
#        bg_col = rgba(10, 10, 10, 0.8)
#    }
#}


=========================================
File: hypr/.config/hypr/conf/window.conf
=========================================

# Window Rules
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = opaque, class:^(kitty)$
windowrulev2 = float, size 300 200, center, class:^(Notas)$

windowrulev2 = workspace 2, class:^(spotify)$
windowrulev2 = workspace 2, class:^(discord)$
windowrulev2 = float, title:^(Picture in Picture)$
windowrulev2 = float,class:(clipse)
windowrulev2 = size 622 652,class:(clipse)

windowrulev2 = workspace 3, class:^(Dotfiles)$


=========================================
File: hypr/.config/hypr/conf/input.conf
=========================================

# Input
input {
    kb_layout = latam
    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0
}

gesture = 3, horizontal, workspace


=========================================
File: hypr/.config/hypr/conf/general.conf
=========================================

# General
general {
    gaps_in = 2
    gaps_out = 4
    border_size = 1

    col.active_border = $color4
    col.inactive_border = $color0

    layout = dwindle
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

misc {
    vfr = true
}


=========================================
File: hypr/.config/hypr/conf/aesthetics.conf
=========================================

# Aesthetics

layerrule = blur, wlogout
layerrule = blur, ~/Dotfiles/hypr/.config/hypr/scripts/loguot.sh
layerrule = blur,logout_dialog

decoration {
    rounding = 5

    blur {
        enabled = true
        passes = 3
        size = 3

        ignore_opacity = true
        new_optimizations = on
        noise = 0.02
        contrast = 1.1
        brightness = 1.0
    }

    shadow {
        enabled = false
    }
}


=========================================
File: hypr/.config/hypr/conf/startup.conf
=========================================

# Autostart
exec-once = wal -R
exec-once = swayosd-server
exec-once = swaync
exec-once = hypridle &
exec-once = hyprpaper
exec-once = nm-applet &
exec-once = waybar &
#exec-once = hyprpm reload -n
exec-once = kdeconnectd
exec-once = kitty --class "Dotfiles" --directory ~/Dotfiles
exec-once = hyprsunset
exec-once = kdeconnect-indicator
exec-once = /usr/lib/evolution-data-server/evolution-alarm-notify
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

exec-once = dbus-update-activation-environment --systemd --all
# exec-once = gnome-keyring-daemon --start --components=pkcs11,secrets,ssh
exec-once = clipse -listen
--
readonly STOW_PACKAGES=(fastfetch hypr i3 i3status kitty nvim ohmyzsh picom polybar rofi rofimoji swaylock wal waybar zsh)
readonly PERSONAL_REPOS=(Apunte Progra Arduino-Codes F-Patata2008) # Corrected repo names
readonly SERVICES_TO_ENABLE=(
    NetworkManager.service bluetooth.service tlp.service cups.service
    powertop.service swayosd-libinput-backend.service check-bat.timer
)

# --- HELPER FUNCTIONS AND COLORS ---
readonly GREEN='\033[0;32m'; readonly RED='\033[0;31m'; readonly YELLOW='\033[1;33m'; readonly NC='\033[0m'
print_header() { echo -e "\n${YELLOW}========================================\n $1 \n========================================${NC}\n"; }
log_info() { echo -e "${GREEN}[INFO]${NC} $1"; }
log_warn() { echo -e "${YELLOW}[WARN]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }

# --- SCRIPT EXECUTION ---
# Request sudo privileges upfront and keep them alive.
sudo -v
while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

print_header "STARTING FULL ARCH LINUX SYSTEM SETUP"
log_info "Full installation log will be saved to: $LOG_FILE"

# --- FASE 0: PRE-FLIGHT CHECKS ---
print_header "FASE 0: PRE-FLIGHT CHECKS"
if ! ping -c 1 archlinux.org &> /dev/null; then
    log_error "No internet connection. Please connect and try again."
    exit 1
fi
log_info "‚úîÔ∏è Internet connection confirmed."

# --- FASE 1: PACKAGE INSTALLATION ---
print_header "FASE 1: INSTALLING PACMAN & AUR PACKAGES"
if ! grep -q "\[multilib\]" /etc/pacman.conf || grep -q "^#\[multilib\]" /etc/pacman.conf; then
    log_info "Enabling multilib repository..."
    sudo sed -i "/\[multilib\]/,/Include/"'s/^#//' /etc/pacman.conf
    sudo pacman -Syy
fi

log_info "Installing Pacman packages..."
sudo pacman -S --needed --noconfirm - < pacman_packages.txt || log_warn "Some pacman packages failed to install. Check the log."

log_info "Installing or updating yay..."
if ! command -v yay &> /dev/null; then
    sudo pacman -S --needed --noconfirm git base-devel
    (cd /tmp && git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si --noconfirm && cd / && rm -rf /tmp/yay)
fi

log_info "Installing AUR packages..."
yay -S --needed --noconfirm - < aur_packages.txt || log_warn "Some AUR packages failed to install. Check the log."
log_info "‚úîÔ∏è All packages installed."

# --- FASE 2: SPICETIFY SETUP ---
print_header "FASE 2: SETTING UP SPICETIFY"
if command -v spicetify &> /dev/null; then
    log_info "Configuring Spicetify..."
    sudo chmod a+wr /opt/spotify/Apps -R
    spicetify backup apply
    log_info "Installing Spicetify Marketplace..."
    (cd "$(spicetify -c | grep 'Custom apps')/.." && curl -fL "https://github.com/spicetify/spicetify-marketplace/releases/latest/download/spicetify-marketplace.zip" -o spicetify-marketplace.zip && unzip -o spicetify-marketplace.zip)
    spicetify apply
    log_info "‚úîÔ∏è Spicetify setup complete."
else
    log_warn "Spicetify not found. Skipping setup."
fi

# --- FASE 3: ZSH, OH MY ZSH & POWERLEVEL10K ---
print_header "FASE 3: SETTING UP ZSH & POWERLEVEL10K"
if [ ! -d "$HOME/.oh-my-zsh" ]; then
    log_info "Oh My Zsh not found, installing..."
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended
else
    log_info "Oh My Zsh already installed."
fi
P10K_DIR="${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k"
if [ ! -d "$P10K_DIR" ]; then
    log_info "Cloning Powerlevel10k..."
    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git "$P10K_DIR"
fi
if [[ "$SHELL" != "/bin/zsh" ]]; then
    log_info "Changing default shell to Zsh..."
    chsh -s "$(which zsh)"
fi
log_info "‚úîÔ∏è Zsh setup complete."

# --- FASE 4: CONDITIONAL FINGERPRINT SETUP ---
print_header "FASE 4: FINGERPRINT READER CONFIGURATION"
FINGERPRINT_ID="27c6:55b4"
if lsusb | grep -q "$FINGERPRINT_ID"; then
    log_info "Goodix $FINGERPRINT_ID fingerprint reader detected."
    read -p "Do you want to install the experimental community driver? (y/n): " choice
    if [[ "$choice" =~ ^[Yy]$ ]]; then
        yay -S --needed --noconfirm libfprint-goodixtls-55x4
        log_info "Enabling fingerprint authentication (PAM)..."
        FP_LINE="auth      sufficient      pam_fprintd.so"
        for pam_file in sudo gdm-password polkit-1; do
            if ! grep -q "pam_fprintd.so" "/etc/pam.d/$pam_file"; then
                sudo sed -i "1s,^,$FP_LINE\n," "/etc/pam.d/$pam_file"
                log_info "Patched /etc/pam.d/$pam_file"
            fi
        done
        sudo systemctl enable fprintd.service
        log_info "‚úîÔ∏è Fingerprint setup complete. Please enroll your fingerprints after reboot with 'fprintd-enroll'."
    else
        log_warn "Skipping fingerprint driver installation."
    fi
else
    log_info "No Goodix $FINGERPRINT_ID reader detected. Skipping."
fi

# --- FASE 5: SYSTEM CONFIGURATION & THEMES ---
print_header "FASE 5: APPLYING SYSTEM CONFIGS, THEMES & OPTIMIZATIONS"
log_info "Copying system-wide files (GRUB, Plymouth, services, etc.)..."
if [ -d "system-files" ]; then
    sudo cp -rT ./system-files/ / # -T treats source as a file, copying its contents
    log_info "‚úîÔ∏è System files restored."
else
    log_error "'system-files' directory not found. Cannot proceed with critical configs."
    exit 1
fi
log_info "Setting TTY keymap to la-latin1..."
sudo localectl set-keymap la-latin1
log_info "Setting Plymouth theme..."
sudo plymouth-set-default-theme -R minecraft-theme || log_warn "Failed to set Plymouth theme."
log_info "‚úîÔ∏è System configuration applied."

# --- FASE 6: ENABLING SYSTEM SERVICES ---
print_header "FASE 6: ENABLING CORE SYSTEM SERVICES"
for service in "${SERVICES_TO_ENABLE[@]}"; do
    if ! sudo systemctl is-enabled --quiet "$service"; then
        log_info "Enabling service: $service"
        sudo systemctl enable "$service"
    else
        log_info "Service $service is already enabled."
    fi
done
log_info "‚úîÔ∏è Core services enabled."

# --- FASE 7: REBUILD SYSTEM IMAGES ---
print_header "FASE 7: REBUILDING SYSTEM IMAGES (GRUB & MKINITCPIO)"
log_info "Updating initramfs..."
sudo mkinitcpio -P
log_info "Updating GRUB configuration..."
sudo grub-mkconfig -o /boot/grub/grub.cfg
log_info "‚úîÔ∏è System images rebuilt successfully."

# --- FASE 8: CLONE PERSONAL REPOSITORIES ---
print_header "FASE 8: CLONING PERSONAL REPOSITORIES"
mkdir -p "$HOME/Progra" "$HOME/Arduino" # Ensure parent directories exist
for repo in "${PERSONAL_REPOS[@]}"; do
    # Handle specific target directories
    TARGET_DIR="$HOME"
    if [[ "$repo" == "Progra" || "$repo" == "Arduino" ]]; then
        TARGET_DIR="$HOME/$repo"
    fi

    if [ ! -d "$TARGET_DIR/$(basename $repo)" ]; then
        log_info "Cloning '$repo'..."
        git clone "https://github.com/$GITHUB_USER/$repo.git" "$TARGET_DIR/$(basename $repo)"
    else
        log_info "Repository '$repo' already exists. Skipping."
    fi
done

# --- FASE 9: APPLY USER DOTFILES WITH STOW ---
print_header "FASE 9: APPLYING USER DOTFILES WITH GNU STOW"
log_info "This will overwrite existing configs in your home directory."
# Navigate to the parent directory of 'Install' to run stow
(cd .. && stow --restow --verbose "${STOW_PACKAGES[@]}")
log_info "‚úîÔ∏è All user dotfiles have been stowed."

# --- FASE 10: Final Steps ---
print_header "üéâ INSTALLATION COMPLETE! üéâ"
log_info "It is highly recommended to REBOOT NOW to apply all changes."
log_info "After reboot, remember to:"
log_info "  - Run 'fprintd-enroll' to add your fingerprints."
log_info "  - Launch Spotify once to let Spicetify finish its setup."
log_info "  - Enjoy your new system!"

```



=========================================
File: zsh/.zshrc
=========================================

fastfetch  # <-- REMOVE THIS, IT'S JUST A COMMENT

# Enable Powerlevel10k instant prompt. Should stay at the very top of ~/.zshrc.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set name of the Oh My Zsh theme to load.
ZSH_THEME="powerlevel10k/powerlevel10k"
typeset -g POWERLEVEL9K_INSTANT_PROMPT=off  # <-- REMOVE THIS LINE
export PATH=$HOME/.local/bin:$PATH
export PATH="$PATH:$(go env GOPATH)/bin"
--
# Function to open nvim with current directory if no arguments are given
nv() {
  if [ $# -eq 0 ]; then
    # No arguments were provided, so run nvim in the current directory
    nvim .
  else
    # Arguments were provided, so pass them all to nvim
    nvim "$@"
  fi
}


# Zsh plugins to load.
plugins=(
    git
    colored-man-pages
    command-not-found
    cp
    archlinux
    autojump
    themes
    zsh-autosuggestions
    zsh-syntax-highlighting
)

# Source Oh My Zsh.
source $ZSH/oh-my-zsh.sh

# Source autojump script.
# This needs to be done on Arch after installing the package.
[ -f /etc/profile.d/autojump.zsh ] && . /etc/profile.d/autojump.zsh

# --- User Configuration ---

# Preferred editor
export EDITOR='nvim'
export BROWSER='opera'


# +++ ADD THIS BLOCK +++
# Load all custom .zsh files (like aliases.zsh and shortcuts.zsh)
# The path ~/.zsh/custom works because 'stow' symlinks ~/Dotfiles/zsh to ~/.zsh
for file in ~/.zsh/custom/*.zsh; do
  if [ -r "$file" ]; then
    source "$file"
  fi
done
# +++ END OF BLOCK +++


# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh


# Run fastfetch once, right before the first prompt is drawn
run_fastfetch_once() {
  fastfetch
  # Unregister this function so it only runs once per session
  precmd_functions=(${precmd_functions[@]/run_fastfetch_once})
}
#precmd_functions+=(run_fastfetch_once)
#


=========================================
File: zsh/.zsh/custom/shorcuts.zsh
=========================================

#Atajos Probabilidad y Estadistica
Apunte=~/Clases/Probabilidad\ y\ Estadistica/Apunte/
Trabajo=~/Clases/Probabilidad\ y\ Estadistica/Trabajos/
Proyecto=~/Clases/Probabilidad\ y\ Estadistica/

#Atajo ZSH
bash=~/.oh-my-zsh/custom/

#Atajos Prog
C=~/Progra/CIPC/
#Java=~/Prog/Java/
Python=~/Progra/Python/
arduino=~/Arduino/


=========================================
File: zsh/.zsh/custom/aliases.zsh
=========================================

#alias nv='nvim'

alias clases='cd ~/Apunte/'
alias PE='nvim ~/Apunte/Probabilidad\ y\ Estadistica/Apunte/Apunte.tex'
alias prob='cd ~/Apunte//Probabilidad\ y\ Estadistica/'


alias please='sudo $(fc -ln -1)'
alias update='sh $HOME/Dotfiles/hypr/.config/hypr/scripts/update.sh'

alias 'exec zsh'='clear; exec zsh'
alias tl='java -jar ~/Desktop/TLauncher.v16/TLauncher.jar'
alias cl='clear; tree'
alias arduino='sudo chmod a+rw /dev/ttyACM0'

alias icat="kitty +kitten icat"

alias wifi='nmcli dev wifi list --rescan yes'
alias celu='nmcli dev wifi connect "Doxiado" --ask'
alias papo="nmcli dev wifi connect \"Alvaro's A53\" --ask"
alias movil="nmcli dev wifi connect WHATSAPP-COLLI --ask"

# My custom power profiles for TLP
alias set-powersave="echo powersave | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo power | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"
alias set-balanced="echo schedutil | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo balance_power | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"
alias set-performance="echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"


=========================================
File: zsh/.p10k.zsh
=========================================

# Generated by Powerlevel10k configuration wizard on 2025-10-06 at 16:13 -03.
# Based on romkatv/powerlevel10k/config/p10k-rainbow.zsh, checksum 49619.
# Wizard options: nerdfont-v3 + powerline, small icons, rainbow, unicode, 24h time,
# angled separators, round heads, round tails, 2 lines, solid, full frame,
# darkest-ornaments, sparse, many icons, fluent, instant_prompt=off.
# Type `p10k configure` to generate another config.
#
# Config for Powerlevel10k with powerline prompt style with colorful background.
# Type `p10k configure` to generate your own config based on it.
#
# Tip: Looking for a nice color? Here's a one-liner to print colormap.
#
#   for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+$'\n'}; done

# Temporarily change options.
'builtin' 'local' '-a' 'p10k_config_opts'
[[ ! -o 'aliases'         ]] || p10k_config_opts+=('aliases')
[[ ! -o 'sh_glob'         ]] || p10k_config_opts+=('sh_glob')
[[ ! -o 'no_brace_expand' ]] || p10k_config_opts+=('no_brace_expand')
'builtin' 'setopt' 'no_aliases' 'no_sh_glob' 'brace_expand'

() {
  emulate -L zsh -o extended_glob

  # Unset all configuration options. This allows you to apply configuration changes without
  # restarting zsh. Edit ~/.p10k.zsh and type `source ~/.p10k.zsh`.
  unset -m '(POWERLEVEL9K_*|DEFAULT_USER)~POWERLEVEL9K_GITSTATUS_DIR'

  # Zsh >= 5.1 is required.
  [[ $ZSH_VERSION == (5.<1->*|<6->.*) ]] || return

  # The list of segments shown on the left. Fill it with the most important segments.
  typeset -g POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(
    # =========================[ Line #1 ]=========================
    os_icon                 # os identifier
    dir                     # current directory
    vcs                     # git status
    # =========================[ Line #2 ]=========================
    newline                 # \n
    # prompt_char           # prompt symbol
  )

  # The list of segments shown on the right. Fill it with less important segments.
  # Right prompt on the last prompt line (where you are typing your commands) gets
  # automatically hidden when the input line reaches it. Right prompt above the
  # last prompt line gets hidden if it would overlap with left prompt.
  typeset -g POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(
    # =========================[ Line #1 ]=========================
    status                  # exit code of the last command
    command_execution_time  # duration of the last command
    background_jobs         # presence of background jobs
    direnv                  # direnv status (https://direnv.net/)
    asdf                    # asdf version manager (https://github.com/asdf-vm/asdf)
    virtualenv              # python virtual environment (https://docs.python.org/3/library/venv.html)
    anaconda                # conda environment (https://conda.io/)
    pyenv                   # python environment (https://github.com/pyenv/pyenv)
    goenv                   # go environment (https://github.com/syndbg/goenv)
    nodenv                  # node.js version from nodenv (https://github.com/nodenv/nodenv)
    nvm                     # node.js version from nvm (https://github.com/nvm-sh/nvm)
    nodeenv                 # node.js environment (https://github.com/ekalinin/nodeenv)
    # node_version          # node.js version
    # go_version            # go version (https://golang.org)
    # rust_version          # rustc version (https://www.rust-lang.org)
    # dotnet_version        # .NET version (https://dotnet.microsoft.com)
    # php_version           # php version (https://www.php.net/)
    # laravel_version       # laravel php framework version (https://laravel.com/)
    # java_version          # java version (https://www.java.com/)
    # package               # name@version from package.json (https://docs.npmjs.com/files/package.json)
    rbenv                   # ruby version from rbenv (https://github.com/rbenv/rbenv)
    rvm                     # ruby version from rvm (https://rvm.io)
    fvm                     # flutter version management (https://github.com/leoafarias/fvm)
    luaenv                  # lua version from luaenv (https://github.com/cehoffman/luaenv)
    jenv                    # java version from jenv (https://github.com/jenv/jenv)
    plenv                   # perl version from plenv (https://github.com/tokuhirom/plenv)
    perlbrew                # perl version from perlbrew (https://github.com/gugod/App-perlbrew)
    phpenv                  # php version from phpenv (https://github.com/phpenv/phpenv)
    scalaenv                # scala version from scalaenv (https://github.com/scalaenv/scalaenv)
    haskell_stack           # haskell version from stack (https://haskellstack.org/)
    kubecontext             # current kubernetes context (https://kubernetes.io/)
    terraform               # terraform workspace (https://www.terraform.io)
    # terraform_version     # terraform version (https://www.terraform.io)
    aws                     # aws profile (https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html)
    aws_eb_env              # aws elastic beanstalk environment (https://aws.amazon.com/elasticbeanstalk/)
    azure                   # azure account name (https://docs.microsoft.com/en-us/cli/azure)
    gcloud                  # google cloud cli account and project (https://cloud.google.com/)
    google_app_cred         # google application credentials (https://cloud.google.com/docs/authentication/production)
    toolbox                 # toolbox name (https://github.com/containers/toolbox)
    context                 # user@hostname
    nordvpn                 # nordvpn connection status, linux only (https://nordvpn.com/)
    ranger                  # ranger shell (https://github.com/ranger/ranger)
    yazi                    # yazi shell (https://github.com/sxyazi/yazi)
    nnn                     # nnn shell (https://github.com/jarun/nnn)
    lf                      # lf shell (https://github.com/gokcehan/lf)
    xplr                    # xplr shell (https://github.com/sayanarijit/xplr)
    vim_shell               # vim shell indicator (:sh)
    midnight_commander      # midnight commander shell (https://midnight-commander.org/)
    nix_shell               # nix shell (https://nixos.org/nixos/nix-pills/developing-with-nix-shell.html)
    chezmoi_shell           # chezmoi shell (https://www.chezmoi.io/)
    vi_mode                 # vi mode (you don't need this if you've enabled prompt_char)
    # vpn_ip                # virtual private network indicator
    # load                  # CPU load
    # disk_usage            # disk usage
    # ram                   # free RAM
    # swap                  # used swap
    todo                    # todo items (https://github.com/todotxt/todo.txt-cli)
    timewarrior             # timewarrior tracking status (https://timewarrior.net/)
    taskwarrior             # taskwarrior task count (https://taskwarrior.org/)
    per_directory_history   # Oh My Zsh per-directory-history local/global indicator
    # cpu_arch              # CPU architecture
    time                    # current time
    # =========================[ Line #2 ]=========================
    newline
    # ip                    # ip address and bandwidth usage for a specified network interface
    # public_ip             # public IP address
    # proxy                 # system-wide http/https/ftp proxy
    # battery               # internal battery
    # wifi                  # wifi speed
    # example               # example user-defined segment (see prompt_example function below)
  )

  # Defines character set used by powerlevel10k. It's best to let `p10k configure` set it for you.
  typeset -g POWERLEVEL9K_MODE=nerdfont-v3
  # When set to `moderate`, some icons will have an extra space after them. This is meant to avoid
  # icon overlap when using non-monospace fonts. When set to `none`, spaces are not added.
  typeset -g POWERLEVEL9K_ICON_PADDING=none

  # When set to true, icons appear before content on both sides of the prompt. When set
  # to false, icons go after content. If empty or not set, icons go before content in the left
  # prompt and after content in the right prompt.
  #
  # You can also override it for a specific segment:
  #
  #   POWERLEVEL9K_STATUS_ICON_BEFORE_CONTENT=false
  #
  # Or for a specific segment in specific state:
  #
  #   POWERLEVEL9K_DIR_NOT_WRITABLE_ICON_BEFORE_CONTENT=false
  typeset -g POWERLEVEL9K_ICON_BEFORE_CONTENT=

  # Add an empty line before each prompt.
  typeset -g POWERLEVEL9K_PROMPT_ADD_NEWLINE=true

  # Connect left prompt lines with these symbols. You'll probably want to use the same color
  # as POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_FOREGROUND below.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX='%238F‚ï≠‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_PREFIX='%238F‚îú‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX='%238F‚ï∞‚îÄ'
  # Connect right prompt lines with these symbols.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_SUFFIX='%238F‚îÄ‚ïÆ'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_SUFFIX='%238F‚îÄ‚î§'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_SUFFIX='%238F‚îÄ‚ïØ'

  # Filler between left and right prompt on the first prompt line. You can set it to ' ', '¬∑' or
  # '‚îÄ'. The last two make it easier to see the alignment between left and right prompt and to
  # separate prompt from command output. You might want to set POWERLEVEL9K_PROMPT_ADD_NEWLINE=false
  # for more compact prompt if using this option.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_CHAR='‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_BACKGROUND=
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_GAP_BACKGROUND=
  if [[ $POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_CHAR != ' ' ]]; then
    # The color of the filler. You'll probably want to match the color of POWERLEVEL9K_MULTILINE
    # ornaments defined above.
    typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_FOREGROUND=238
    # Start filler from the edge of the screen if there are no left segments on the first line.
    typeset -g POWERLEVEL9K_EMPTY_LINE_LEFT_PROMPT_FIRST_SEGMENT_END_SYMBOL='%{%}'
    # End filler on the edge of the screen if there are no right segments on the first line.
    typeset -g POWERLEVEL9K_EMPTY_LINE_RIGHT_PROMPT_FIRST_SEGMENT_START_SYMBOL='%{%}'
  fi

  # Separator between same-color segments on the left.
  typeset -g POWERLEVEL9K_LEFT_SUBSEGMENT_SEPARATOR='\uE0B1'
  # Separator between same-color segments on the right.
--
File: nvim/.config/nvim/init.lua
=========================================

-- Set <leader> BEFORE lazy
vim.g.mapleader = " "
vim.g.maplocalleader = " "

-- Bootstrap lazy.nvim
local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"
if not vim.loop.fs_stat(lazypath) then
  vim.fn.system({
    "git", "clone", "--filter=blob:none",
    "https://github.com/folke/lazy.nvim.git",
    "--branch=stable", lazypath
  })
end
vim.opt.rtp:prepend(lazypath)

-- Load plugins from both plugins/ and custom/
require("lazy").setup({
  { import = "plugins" },
  { import = "custom" }
})

-- üü¢ AHORA S√ç: carga tus opciones y atajos
require("core.autostart")
require("core.keybinds")


-- THIS IS THE SETUP RECOMMENDED BY THE Arduino-Nvim PLUGIN
-- We are putting it back.

-- Load LSP configuration first
require("Arduino-Nvim.lsp").setup()
--[[
-- Set up Arduino file type detection
vim.api.nvim_create_autocmd("FileType", {
    pattern = "arduino",
    callback = function()
        require("Arduino-Nvim")
    end
})
]]
vim.api.nvim_create_autocmd({ "BufNewFile", "BufRead" }, {
  pattern = "*.ipynb",
  callback = function()
    vim.bo.filetype = "ipynb"
  end,
})



=========================================
File: nvim/.config/nvim/lua/core/current-theme.lua
=========================================

vim.cmd("colorscheme tokyonight-night")

=========================================
File: nvim/.config/nvim/lua/core/keybinds.lua
=========================================

local map = vim.keymap.set

-- Open Telescope theme chooser with <leader>th
map("n", "<leader>th", "<cmd>Telescope themes<CR>", { desc = "Choose Theme" })

map('n', '<C-n>', ':Neotree filesystem reveal left<CR>', {})

-- Save file with Ctrl + s
map("n", "<C-s>", "<cmd>w<CR>", { desc = "Save File" })

-- Select all text with Ctrl + g
-- gg goes to the first line, V enters visual line mode, G goes to the last line
map("n", "<C-a>", "ggVG", { desc = "Select All" })

-- Quit Neovim with Ctrl + q
map("n", "<C-q>", "<cmd>q<CR>", { desc = "Quit" })

map('n', '<C-l>', '<Cmd>VimtexCompile<CR>', {
                noremap = true,
                silent = true,
                desc = "Compile LaTeX (Vimtex)"
            })

-- Trouble plugin keymaps
-- Use <cmd>...<CR> for robustness, as it doesn't require the plugin to be loaded beforehand.
map("n", "<leader>xx", "<cmd>TroubleToggle<CR>", { desc = "Toggle Trouble List" })
map("n", "<leader>xw", "<cmd>TroubleToggle workspace_diagnostics<CR>", { desc = "Workspace Diagnostics" })
map("n", "<leader>xd", "<cmd>TroubleToggle document_diagnostics<CR>", { desc = "Document Diagnostics" })

map("n", "<leader>mp", "<cmd>RenderMarkdownToggle<CR>", { desc = "Toggle Markdown Render" })




=========================================
File: nvim/.config/nvim/lua/core/autostart.lua
=========================================

-- Set editor options
vim.opt.clipboard = "unnamedplus"
vim.opt.number = true
vim.opt.relativenumber = false
vim.opt.cursorline = true
vim.opt.termguicolors = true
vim.opt.tabstop = 4
vim.opt.shiftwidth = 4
vim.opt.expandtab = true
vim.opt.smartindent = true

-- Diagnostic settings
-- Disable inline error messages (virtual text), but keep the signs in the gutter.
vim.diagnostic.config({
  virtual_text = true,
  signs = false,
  underline = true,
  update_in_insert = true,
  severity_sort = true,
})


vim.filetype.add({
  pattern = {
    [".*/hypr/.*%.conf"] = "hyprlang"
  }
})

vim.api.nvim_create_autocmd("InsertLeave", {
  pattern = "*",
  callback = function()
    if vim.bo.modified and vim.bo.filetype ~= "" then
      vim.cmd("silent! write")
    end
  end,
})


=========================================
File: nvim/.config/nvim/lua/custom/copilot.lua
=========================================

return {
  {
    "zbirenbaum/copilot.lua",
    cmd = "Copilot",
    event = "InsertEnter",
    config = function()
      require("copilot").setup({
        suggestion = { enabled = false }, -- disable ghost text inline
        panel = { enabled = false },      -- disable side panel
        filetypes = { ["*"] = true },
      })
    end,
  },
  {
    "zbirenbaum/copilot-cmp",
    after = "copilot.lua",
    config = function()
      require("copilot_cmp").setup()
    end,
  },
  {
    "CopilotC-Nvim/CopilotChat.nvim",
    branch = "main",
    dependencies = {
      { "zbirenbaum/copilot.lua" },  -- use copilot.lua as backend
      { "nvim-lua/plenary.nvim" },
    },
    config = function()
      require("CopilotChat").setup({})
      vim.keymap.set("n", "<C-c>", ":CopilotChat<CR>", { noremap = true, silent = true })
    end,
  },
}



=========================================
File: nvim/.config/nvim/lua/snippets/tex.lua
=========================================

local ls = require("luasnip")
local s = ls.snippet
local i = ls.insert_node
local t = ls.text_node
local f = ls.function_node
local fmt = require("luasnip.extras.fmt").fmt

-- ===== HELPER FUNCTIONS (reusable for multiple snippets) =====

-- Function to create the symbolic link to the central images folder.
local function create_symlink()
  os.execute("test -e images || ln -s ~/Apunte/images/ ./images")
  return "" -- This function inserts no text
end

-- Function to create an empty bibliography file.
local function create_bib_file()
  os.execute("test -e bibliografia.bib || touch bibliografia.bib")
  return "" -- This function inserts no text
end

-- NEW: A single function to call both setup functions.
-- This solves the "Unused argument" error.
local function setup_project_files()
  create_symlink()
  create_bib_file()
  return ""
end


-- ===== SNIPPETS =====

return {
  -- Snippet 1: Your original "Documento" snippet (corrected)
  s("Documento", fmt([[
\documentclass[11pt]{{article}}
\usepackage[spanish]{{babel}}
\usepackage{{amsmath}}
\usepackage{{amssymb}}
\usepackage{{graphicx}}
\graphicspath{{ {{./images/}}, {{~/Apunte/images/}} }}
\usepackage[utf8]{{inputenc}}
\usepackage[T1]{{fontenc}}
\usepackage[margin=1in]{{geometry}}
\usepackage{{fancyhdr}}
\usepackage{{hyperref}}

\hypersetup{{
    pdftitle={{{}}},
    pdfauthor={{{}}},
    colorlinks=true,
    linkcolor=black,
    urlcolor=cyan
}}

\pagestyle{{fancy}}
\fancyhf{{}}
\fancyfoot[C]{{\footnotesize Felipe Colli, Todos los Derechos Reservados}}
\fancyfoot[R]{{\thepage}}
\renewcommand{{\headrulewidth}}{{0pt}}

\title{{{}}}
\author{{{}}}
\date{{\today}}

\begin{{document}}

\maketitle
\thispagestyle{{fancy}}

{}

\end{{document}}
{}
]], {
    i(1, "Tu T√≠tulo"),
    i(2, "Felipe Colli Olea"),
    i(1), -- Reuses node 1
    i(2), -- Reuses node 2
    i(0, "Empieza a escribir aqu√≠..."),
    f(create_symlink), -- Only one function, so it's fine here
  })),

  -- Snippet 2: The "Informe" snippet (corrected)
  s("Informe", fmt([[
\documentclass[12pt, letterpaper]{{article}}

% ----- PAQUETES B√ÅSICOS Y DE IDIOMA -----
\usepackage[utf8]{{inputenc}}
\usepackage[T1]{{fontenc}}
\usepackage[spanish]{{babel}}
\usepackage{{graphicx}}

% ----- PAQUETES DE FORMATO Y GEOMETR√çA -----
\usepackage{{geometry}}
\usepackage{{setspace}}
\usepackage{{enumitem}}
\usepackage{{microtype}}
\graphicspath{{ {{./images/}}, {{~/Apunte/images/}} }}

% ----- PAQUETE DE CITAS Y BIBLIOGRAF√çA -----
\usepackage{{csquotes}}
\usepackage[style=verbose-trad1, bibstyle=numeric, backend=biber]{{biblatex}}
\addbibresource{{bibliografia.bib}}

% ----- CONFIGURACI√ìN DE LA P√ÅGINA -----
\geometry{{
    letterpaper,
    left=2.5cm,
    right=2.5cm,
    top=2.5cm,
    bottom=3cm
}}
\setstretch{{1.5}}

% ----- HIPERV√çNCULOS -----
\usepackage{{fancyhdr}}
\usepackage{{hyperref}}
\hypersetup{{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue,
    pdftitle={{{}}},
    pdfauthor={{Felipe Colli Olea, {}, {}, {}, {}}},
    pdfsubject={{{}}}
}}

% --- INICIO DEL DOCUMENTO ---
\begin{{document}}

% --- CONFIGURACI√ìN DEL PIE DE P√ÅGINA ---
\pagestyle{{fancy}}
\fancyhf{{}}
\fancyfoot[C]{{\footnotesize {}}}
\fancyfoot[R]{{\thepage}}
\renewcommand{{\headrulewidth}}{{0pt}}

% --- PORTADA ---
\begin{{titlepage}}
	\centering
	\includegraphics[width=2cm]{{IN.png}}\\[1.5cm]
	\textsc{{\LARGE  Instituto Nacional General Jos√© Miguel Carrera}}\\[0.5cm]
	\textsc{{\Large Departamento de Filosof√≠a}}\\[1cm]
	\rule{{\textwidth}}{{1.5pt}}\vspace{{0.4cm}}
	{{ \Huge \bfseries {} }}\\[0.4cm]
	\rule{{\textwidth}}{{1.5pt}}\\[1cm]
	{{ \Large \textit{{{}}} }}\\[2cm]
	\begin{{minipage}}{{0.45\textwidth}}
		\begin{{flushleft}} \large
			\textbf{{Autores:}}\\
			Felipe Colli Olea\\
			{}\\
			{}\\
			{}\\
			{}
		\end{{flushleft}}
	\end{{minipage}}
	\hfill
	\begin{{minipage}}{{0.45\textwidth}}
		\begin{{flushright}} \large
			\textbf{{Profesora:}}\\
			{}
		\end{{flushright}}
	\end{{minipage}}
	\vfill
	{{ \large Santiago, Chile \\[0.5cm] \today }}
\end{{titlepage}}

\newpage
\tableofcontents
\newpage
\section*{{Introducci√≥n}}
\thispagestyle{{fancy}}
{}

\newpage
\section*{{Desarrollo}}
\subsection*{{China: Un Pacto de Prosperidad a Cambio de Lealtad}}
\subsection*{{Vietnam: Renovaci√≥n Econ√≥mica bajo Control Pol√≠tico}}
\subsection*{{Kerala: Comunismo Democr√°tico y Desarrollo Social}}
\subsection*{{Experiencias cercanas al comunismo en las regiones de China, Vietnam y Kerala}}

\newpage
\section*{{Conclusi√≥n}}

\newpage
\printbibliography[title=Bibliograf√≠a]

\end{{document}}
{}
]], {
    -- Nodes for metadata and title page
    i(1, "T√≠tulo del Informe"),
    i(2, "Otro Autor 1"),
    i(3, "Otro Autor 2"),
    i(4, "Otro Autor 3"),
    i(5, "Otro Autor 4"),
    i(6, "Asignatura"),
--
File: nvim/.config/nvim/lua/snippets/cpp.lua
=========================================

local ls = require("luasnip")
local s = ls.s
local i = ls.i
local t = ls.t

return {
  s(
    "Patata",
    {
      t({
        "#include <bits/stdc++.h>",
        "using namespace std;",
        "",
        "typedef long long ll;",
        "typedef string str;",
        "#define vec vector",
        "",
        "int main() {",
        "    int t;",
        "    cin >> t;",
        "    while (t--) {",
        "        ",
      }),
      i(0), -- cursor inside while loop
      t({
        "",
        "    }",
        "    return 0;",
        "}",
      }),
    },
    {
      description = "Competitive Programming Template (With test cases)",
    }
  ),

  -- New snippet "Papa" without test cases
  s(
    "Papa",
    {
      t({
        "#include <bits/stdc++.h>",
        "using namespace std;",
        "",
        "typedef long long ll;",
        "typedef string str;",
        "#define vec vector",
        "",
        "int main() {",
        "    ",
      }),
      i(0), -- cursor inside main
      t({
        "",
        "    return 0;",
        "}",
      }),
    },
    {
      description = "Competitive Programming Template (Without test cases)",
    }
  ),
    s(
        "for",
        {
            t({
                "for (int i = 0; i < n; i++) {",
            }),
                i(0),
                t({"}"
            })
        }
    )
}


=========================================
File: nvim/.config/nvim/lua/plugins/lualine.lua
=========================================

return {
	'nvim-lualine/lualine.nvim',
	dependencies = { 'nvim-tree/nvim-web-devicons' },
	config = function()
		require('lualine').setup({
			options = {
				theme = 'catppuccin'
			}
		})
	end
}


=========================================
File: nvim/.config/nvim/lua/plugins/markdown.lua
=========================================

-- plugins/markdown.lua
return {
  {
    "MeanderingProgrammer/render-markdown.nvim",
    dependencies = { "nvim-treesitter/nvim-treesitter" },
    config = function()
      require("render-markdown").setup({
        -- Your custom configuration goes here
      })
    end,
  },
}


=========================================
File: nvim/.config/nvim/lua/plugins/telescope.lua
=========================================

return {
  {
    'nvim-telescope/telescope.nvim',
    tag = '0.1.8',
    dependencies = { 'nvim-lua/plenary.nvim' },
    config = function()
      local telescope = require('telescope')
            local builtin = require("telescope.builtin")
            vim.keymap.set('n', '<C-f>', builtin.live_grep, {})
      telescope.setup({}) -- Use default Telescope settings
      -- Load the themes extension
      telescope.load_extension('themes')
    end
  },
  {
    -- This is the plugin that provides the theme chooser
    'andrewberty/telescope-themes',
    dependencies = { 'nvim-telescope/telescope.nvim' }
  },
    {
		"nvim-telescope/telescope-ui-select.nvim",
		config = function()
			require("telescope").setup {
  			extensions = {
    				["ui-select"] = {
				      require("telescope.themes").get_dropdown {}
    					}
	  			}
			}
			require("telescope").load_extension("ui-select")
		end
	}
}


=========================================
File: nvim/.config/nvim/lua/plugins/arduino.lua
=========================================

return {
    {
      "yuukiflow/Arduino-Nvim",
      dependencies = {
        "nvim-telescope/telescope.nvim",
        "neovim/nvim-lspconfig",
      },
      config = function()
        -- Load Arduino plugin for .ino files
        vim.api.nvim_create_autocmd("FileType", {
          pattern = "arduino",
          callback = function()
            require("Arduino-Nvim")
          end,
        })
      end,
    }
}


=========================================
File: nvim/.config/nvim/lua/plugins/lsp.lua
=========================================

-- plugins/lsp.lua (or your equivalent file)
return {
  {
    -- LSP Configuration & Plugins
    'neovim/nvim-lspconfig',
    dependencies = {
      -- Automatically install LSPs to stdpath for neovim
      { 'williamboman/mason.nvim', config = true },
      'williamboman/mason-lspconfig.nvim',

      -- Useful status updates for LSP
      { 'j-hui/fidget.nvim', opts = {} },

      -- This is the cmp source for LSP, and it provides the capabilities
      'hrsh7th/cmp-nvim-lsp',
    },
    config = function()
      -- This is the function that will be called when an LSP attaches to a buffer.
      local on_attach = function(client, bufnr)
        local nmap = function(keys, func, desc)
          if desc then
            desc = 'LSP: ' .. desc
          end
          vim.keymap.set('n', keys, func, { buffer = bufnr, noremap = true, silent = true, desc = desc })
        end

        -- Keybindings for LSP features.
        nmap('<leader>rn', vim.lsp.buf.rename, '[R]e[n]ame')
        nmap('<leader>ca', vim.lsp.buf.code_action, '[C]ode [A]ction')

        nmap('gd', require('telescope.builtin').lsp_definitions, '[G]oto [D]efinition')
        nmap('gr', require('telescope.builtin').lsp_references, '[G]oto [R]eferences')
        nmap('gI', require('telescope.builtin').lsp_implementations, '[G]oto [I]mplementation')
        nmap('<leader>D', vim.lsp.buf.type_definition, 'Type [D]efinition')
        nmap('<leader>ds', require('telescope.builtin').lsp_document_symbols, '[D]ocument [S]ymbols')
        nmap('<leader>ws', require('telescope.builtin').lsp_dynamic_workspace_symbols, '[W]orkspace [S]ymbols')

        nmap('K', vim.lsp.buf.hover, 'Hover Documentation')
        nmap('gK', vim.lsp.buf.signature_help, 'Signature Documentation')

        nmap('gD', vim.lsp.buf.declaration, '[G]oto [D]eclaration')

        -- ADDED: Keymap for formatting. This will use null-ls or any other LSP that supports formatting.
        if client.supports_method("textDocument/formatting") then
            nmap('<leader>gf', vim.lsp.buf.format, '[G]o [F]ormat Buffer')
        end

        -- The original command is also great to have.
        vim.api.nvim_buf_create_user_command(bufnr, 'Format', function(_)
          vim.lsp.buf.format()
        end, { desc = 'Format current buffer with LSP' })
      end

      local capabilities = require('cmp_nvim_lsp').default_capabilities()

      -- The main setup function for mason-lspconfig
      require('mason-lspconfig').setup({
        ensure_installed = {"lua_ls", "clangd", "arduino_language_server", "texlab", "pyright", "hyprls", "marksman"},
        handlers = {
          -- The default handler.
          function(server_name)
            require('lspconfig')[server_name].setup({
              on_attach = on_attach,
              capabilities = capabilities,
            })
          end,
            ["arduino_language_server"] = function ()
            -- Intentionally left empty
            end,
        },
      })
      
         end
  }
}


=========================================
File: nvim/.config/nvim/lua/plugins/autopairs.lua
=========================================

return {
  'windwp/nvim-autopairs',
  event = "InsertEnter",
  opts = {} -- Will use default configuration
}


=========================================
File: nvim/.config/nvim/lua/plugins/trouble.lua
=========================================

return {
  {
    "folke/trouble.nvim",
    -- "nvim-tree/nvim-web-devicons" is an optional dependency for nice icons.
    -- We don't need to install it ourselves as it's a dependency of other plugins.
    dependencies = { "nvim-tree/nvim-web-devicons" },
    opts = {}, -- Use default settings
  },
}


=========================================
File: nvim/.config/nvim/lua/plugins/themes.lua
=========================================

return {
  {
    "catppuccin/nvim",
    name = "catppuccin",
    priority = 1000,
    config = function()
      require("catppuccin").setup({
        flavour = "mocha", -- latte, frappe, macchiato, mocha
        transparent_background = true,
                term_colors = true,
                styles = {
                    comments = { "italic" },
                    functions = { "italic" },
                    keywords = { "italic" },
                    variables = { "italic" },
                },
                integrations = {
                    treesitter = true,
                    telescope = true,
                    gitsigns = true,
                    lsp_trouble = true,
                    cmp = true,
                    which_key = true,
                    dashboard = true,
                    neotree = true,
                },
      })
      vim.cmd.colorscheme "catppuccin"
    end,
  },
  {
    "folke/tokyonight.nvim",
    lazy = false,
    priority = 1000,
  },
}


=========================================
File: nvim/.config/nvim/lua/plugins/alpha.lua
=========================================

return {
     {
   'goolord/alpha-nvim',
    dependencies = { 'echasnovski/mini.icons' },
    config = function ()
        require'alpha'.setup(require'alpha.themes.dashboard'.config)
    end
  },
 }


=========================================
File: nvim/.config/nvim/lua/plugins/neo-tree.lua
=========================================

return {
	"nvim-neo-tree/neo-tree.nvim",
        branch = "v3.x",
        dependencies = {                                     
                        "nvim-lua/plenary.nvim",
                        "nvim-tree/nvim-web-devicons",
                        "MunifTanjim/nui.nvim",},
	config = function()
        require("neo-tree").setup({
            filesystem = {
                filtered_items = {
                visible = true,  -- Show filtered items (like dotfiles)
                hide_dotfiles = false,  -- Do not hide dotfiles
                hide_gitignored = true, -- Optional: Show gitignored files too
                },
            },
        })
	end
}   


=========================================
File: nvim/.config/nvim/lua/plugins/completion.lua
=========================================

return {
  {
    "L3MON4D3/LuaSnip",
    dependencies = { "rafamadriz/friendly-snippets" },
    config = function()
      require("luasnip.loaders.from_vscode").lazy_load()
    end,
  },
  {
    "hrsh7th/nvim-cmp",
    event = "InsertEnter",
    dependencies = {
      "hrsh7th/cmp-nvim-lsp",
      "hrsh7th/cmp-buffer",
      "hrsh7th/cmp-path",
      "hrsh7th/cmp-cmdline",
      "saadparwaiz1/cmp_luasnip",
      "onsails/lspkind.nvim",
      -- Copilot source for nvim-cmp
      "zbirenbaum/copilot-cmp",
    },
    config = function()
      local cmp = require('cmp')
      local lspkind = require('lspkind')
      local luasnip = require('luasnip')

      cmp.setup({
        snippet = {
          expand = function(args)
            luasnip.lsp_expand(args.body)
          end,
        },
        window = {
          completion = cmp.config.window.bordered(),
          documentation = cmp.config.window.bordered(),
        },
        mapping = cmp.mapping.preset.insert({
          ['<C-b>'] = cmp.mapping.scroll_docs(-4),
          ['<C-f>'] = cmp.mapping.scroll_docs(4),
          ['<C-Space>'] = cmp.mapping.complete(),
          ['<C-e>'] = cmp.mapping.abort(),
          ['<CR>'] = cmp.mapping.confirm({ select = true }),
          ['<Tab>'] = cmp.mapping(function(fallback)
            if cmp.visible() then
              cmp.select_next_item()
            elseif luasnip.expand_or_jumpable() then
              luasnip.expand_or_jump()
            else
              fallback()
            end
          end, { "i", "s" }),
          ['<S-Tab>'] = cmp.mapping(function(fallback)
            if cmp.visible() then
              cmp.select_prev_item()
            elseif luasnip.jumpable(-1) then
              luasnip.jump(-1)
            else
              fallback()
            end
          end, { "i", "s" }),
        }),
        sources = cmp.config.sources({
          --{ name = 'copilot', group_index = 2 }, -- copilot first
          { name = 'nvim_lsp' },
          { name = 'luasnip' },
          { name = 'path' },
        }, {
          { name = 'buffer' },
        }),
        formatting = {
          format = lspkind.cmp_format({
            mode = 'symbol_text',
            maxwidth = 50,
            ellipsis_char = '...',
            menu = {
              copilot = "[Copilot]",
              nvim_lsp = "[LSP]",
              luasnip = "[Snippet]",
              buffer = "[Buffer]",
              path = "[Path]",
            }
          }),
        },
      })
    end
  }
}



=========================================
File: nvim/.config/nvim/lua/plugins/treesitter.lua
=========================================

return {
  {
    "nvim-treesitter/nvim-treesitter",
    build = ":TSUpdate",
    config = function()
      local parser_config = require("nvim-treesitter.parsers").get_parser_configs()

      parser_config.hyprlang = {
        install_info = {
          url = "https://github.com/tree-sitter-grammars/tree-sitter-hyprlang",
          files = { "src/parser.c" },
          branch = "main",
        },
        filetype = "hyprlang",
      }

      require('nvim-treesitter.configs').setup({
        ensure_installed = { 
                    "c",
                    "lua", 
                    "vim", 
                    "vimdoc", 
                    "cpp", 
                    "hyprlang", 
                    "latex", 
                    "markdown", 
                    "markdown_inline",
                    "html",
                    "css",
                    "scss",
                    "json",
                    "bash",
                    "javascript",
                },
        sync_install = false,
        auto_install = true,
        highlight = {
          enable = true,
        },
        indent = { enable = true },
      })
    end,
  },
}



=========================================
File: nvim/.config/nvim/lua/plugins/jupyter.lua
=========================================

return {
  -- For transparently editing ipynb files as text
  {
     "GCBallesteros/jupytext.nvim",
  config = true,
  -- Depending on your nvim distro or config you may need to make the loading not lazy
  -- lazy=false,
  },

  -- For running cells and interacting with the kernel
  {
        "benlubas/molten-nvim",
        version = "^1.0.0", -- use version <2.0.0 to avoid breaking changes
        dependencies = { "3rd/image.nvim" },
        build = ":UpdateRemotePlugins",
        init = function()
            -- these are examples, not defaults. Please see the readme
            vim.g.molten_image_provider = "image.nvim"
            vim.g.molten_output_win_max_height = 20
        end,
    },
    {
        -- see the image.nvim readme for more information about configuring this plugin
        "3rd/image.nvim",
        opts = {
            backend = "kitty", -- whatever backend you would like to use
            max_width = 100,
            max_height = 12,
            max_height_window_percentage = math.huge,
            max_width_window_percentage = math.huge,
            window_overlap_clear_enabled = true, -- toggles images when windows are overlapped
            window_overlap_clear_ft_ignore = { "cmp_menu", "cmp_docs", "" },
        },
    }
}


=========================================
File: nvim/.config/nvim/lua/plugins/luasnip.lua
=========================================

return {
    {
        "L3MON4D3/LuaSnip",
        version = "v2.*",
        build = "make install_jsregexp",
        config = function()
            -- Cargar snippets desde lua/custom/snippets
            require("luasnip.loaders.from_lua").lazy_load({
                paths = vim.fn.stdpath("config") .. "/lua/snippets"
            })

            -- Tambi√©n cargar snippets tipo vscode friendly-snippets
            require("luasnip.loaders.from_vscode").lazy_load()
        end,
    }
}



=========================================
File: nvim/.config/nvim/lua/plugins/formatter.lua
=========================================

return {
    {
      "mhartington/formatter.nvim",
      -- Load the plugin when you open or create a file.
      event = { "BufReadPre", "BufNewFile" },
      config = function()
        -- This setup function runs and registers the :Format command.
        require("formatter").setup({
          logging = false,
          filetype = {
            tex = { require("formatter.defaults").latexindent },
            lua = { require("formatter.defaults").stylua },
            c = { require("formatter.defaults").clang_format },
            cpp = { require("formatter.defaults").clang_format },
            objc = { require("formatter.defaults").clang_format },
            python = {
              require("formatter.defaults").isort,
              require("formatter.defaults").black,
            },
            javascript = { require("formatter.defaults").prettier },
            typescript = { require("formatter.defaults").prettier },
            javascriptreact = { require("formatter.defaults").prettier },
            typescriptreact = { require("formatter.defaults").prettier },
            html = { require("formatter.defaults").prettier },
            css = { require("formatter.defaults").prettier },
            scss = { require("formatter.defaults").prettier },
            json = { require("formatter.defaults").prettier },
            markdown = { require("formatter.defaults").prettier },
            ["*"] = {
              require("formatter.filetypes.any").remove_trailing_whitespace,
            },
          },
        })

        -- KEY CHANGE: Use the command, not the Lua function.
        -- This is the stable way to call the formatter.
        vim.keymap.set({ "n", "v" }, "<leader>gf", "<cmd>Format<cr>", { desc = "[G]o [F]ormat Buffer" })

        -- Use the plugin's recommended command for format-on-save.
        local augroup = vim.api.nvim_create_augroup("FormatOnSave", { clear = true })
        vim.api.nvim_create_autocmd("BufWritePre", {
          group = augroup,
          pattern = "*",
          -- The :Format command will now work reliably here as well.
          command = "Format",
        })
      end,
    },
}


=========================================
File: nvim/.config/nvim/lua/plugins/debugging.lua
=========================================

return {
  {
    "mfussenegger/nvim-dap",
    dependencies = {
      "rcarriga/nvim-dap-ui",
      "nvim-neotest/nvim-nio", -- Optional, but good to have
    },
    config = function()
      local dap = require("dap")
      local dapui = require("dapui")

      -- Initialize the UI
      dapui.setup()

      -- UI autocommands (your code was perfect here)
      dap.listeners.before.attach.dapui_config = function()
        dapui.open()
      end
      dap.listeners.before.launch.dapui_config = function()
        dapui.open()
      end
      dap.listeners.before.event_terminated.dapui_config = function()
        dapui.close()
      end
      dap.listeners.before.event_exited.dapui_config = function()
        dapui.close()
      end

      -- Keymaps (added more for a better experience)
      vim.keymap.set('n', '<Leader>dt', dap.toggle_breakpoint, { desc = "Toggle Breakpoint" })
      vim.keymap.set('n', '<Leader>dc', dap.continue, { desc = "Continue" })
      vim.keymap.set('n', '<Leader>dl', dap.launch, { desc = "Launch" })
      vim.keymap.set('n', '<Leader>dso', dap.step_over, { desc = "Step Over" })
      vim.keymap.set('n', '<Leader>dsi', dap.step_into, { desc = "Step Into" })
      vim.keymap.set('n', '<Leader>dsu', dap.step_out, { desc = "Step Out" })


      -- 1. ADAPTER DEFINITION (your code was correct)
      dap.adapters.gdb = {
        type = "executable",
        command = "gdb",
        args = { "--interpreter=dap", "--eval-command", "set print pretty on" }
      }

      -- 2. LAUNCH CONFIGURATION (this is the missing part)
      dap.configurations.cpp = {
        {
          name = "Launch with GDB",
          type = "gdb", -- Use the adapter you defined above
          request = "launch",
          program = function()
            -- Ask for the executable path when you start debugging
            return vim.fn.input('Path to executable: ', vim.fn.getcwd() .. '/', 'file')
          end,
          cwd = "${workspaceFolder}", -- Run the program in the project root
          stopOnEntry = false, -- Don't stop at the program's entry point
        },
      }
      
      -- You can reuse the C++ configuration for C and Rust if using GDB
      dap.configurations.c = dap.configurations.cpp
      dap.configurations.rust = dap.configurations.cpp

    end,
  },
}


=========================================
File: nvim/.config/nvim/lua/plugins/latex.lua
=========================================

-- Tu archivo de configuraci√≥n de vimtex
return { 
    {
        "lervag/vimtex",
        ft = { "tex", "latex", "bib" },
        init = function()
            vim.g.vimtex_compiler_method = "latexmk"
            -- vim.g.vimtex_compiler_latexmk = { pdflatex = 'lualatex -interaction=nonstopmode %O %S' }

            vim.g.vimtex_view_zathura = {
                wayland = 1,
                nvim_instance = vim.v.servername,
            }

            vim.g.vimtex_view_method = "zathura"
            vim.g.vimtex_spell_enabled = 1
        end,

        config = function()
            local map = vim.keymap.set
            local opts = { silent = true, noremap = true }
        end,
    }
}


=========================================
File: nvim/.config/nvim/lua/dkjson.lua
=========================================

-- Module options:
local always_use_lpeg = false
local register_global_module_table = false
local global_module_name = 'json'

--[==[

David Kolf's JSON module for Lua 5.1 - 5.4

Version 2.8


For the documentation see the corresponding readme.txt or visit
<http://dkolf.de/dkjson-lua/>.

You can contact the author by sending an e-mail to 'david' at the
domain 'dkolf.de'.


Copyright (C) 2010-2024 David Heiko Kolf

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

--]==]

-- global dependencies:
local pairs, type, tostring, tonumber, getmetatable, setmetatable =
      pairs, type, tostring, tonumber, getmetatable, setmetatable
local error, require, pcall, select = error, require, pcall, select
local floor, huge = math.floor, math.huge
local strrep, gsub, strsub, strbyte, strchar, strfind, strlen, strformat =
      string.rep, string.gsub, string.sub, string.byte, string.char,
      string.find, string.len, string.format
local strmatch = string.match
local concat = table.concat

local json = { version = "dkjson 2.8" }

local jsonlpeg = {}

if register_global_module_table then
  if always_use_lpeg then
    _G[global_module_name] = jsonlpeg
  else
    _G[global_module_name] = json
  end
end

local _ENV = nil -- blocking globals in Lua 5.2 and later

pcall (function()
  -- Enable access to blocked metatables.
  -- Don't worry, this module doesn't change anything in them.
  local debmeta = require "debug".getmetatable
  if debmeta then getmetatable = debmeta end
end)

json.null = setmetatable ({}, {
  __tojson = function () return "null" end
})

local function isarray (tbl)
  local max, n, arraylen = 0, 0, 0
  for k,v in pairs (tbl) do
    if k == 'n' and type(v) == 'number' then
      arraylen = v
      if v > max then
        max = v
      end
    else
      if type(k) ~= 'number' or k < 1 or floor(k) ~= k then
        return false
      end
      if k > max then
        max = k
      end
      n = n + 1
    end
  end
  if max > 10 and max > arraylen and max > n * 2 then
    return false -- don't create an array with too many holes
  end
  return true, max
end

local escapecodes = {
  ["\""] = "\\\"", ["\\"] = "\\\\", ["\b"] = "\\b", ["\f"] = "\\f",
  ["\n"] = "\\n",  ["\r"] = "\\r",  ["\t"] = "\\t"
}

local function escapeutf8 (uchar)
  local value = escapecodes[uchar]
  if value then
    return value
  end
  local a, b, c, d = strbyte (uchar, 1, 4)
  a, b, c, d = a or 0, b or 0, c or 0, d or 0
  if a <= 0x7f then
    value = a
  elseif 0xc0 <= a and a <= 0xdf and b >= 0x80 then
    value = (a - 0xc0) * 0x40 + b - 0x80
  elseif 0xe0 <= a and a <= 0xef and b >= 0x80 and c >= 0x80 then
    value = ((a - 0xe0) * 0x40 + b - 0x80) * 0x40 + c - 0x80
  elseif 0xf0 <= a and a <= 0xf7 and b >= 0x80 and c >= 0x80 and d >= 0x80 then
    value = (((a - 0xf0) * 0x40 + b - 0x80) * 0x40 + c - 0x80) * 0x40 + d - 0x80
  else
    return ""
  end
  if value <= 0xffff then
    return strformat ("\\u%.4x", value)
  elseif value <= 0x10ffff then
    -- encode as UTF-16 surrogate pair
    value = value - 0x10000
    local highsur, lowsur = 0xD800 + floor (value/0x400), 0xDC00 + (value % 0x400)
    return strformat ("\\u%.4x\\u%.4x", highsur, lowsur)
  else
    return ""
  end
end

local function fsub (str, pattern, repl)
  -- gsub always builds a new string in a buffer, even when no match
  -- exists. First using find should be more efficient when most strings
  -- don't contain the pattern.
  if strfind (str, pattern) then
    return gsub (str, pattern, repl)
  else
    return str
  end
end

local function quotestring (value)
  -- based on the regexp "escapable" in https://github.com/douglascrockford/JSON-js
  value = fsub (value, "[%z\1-\31\"\\\127]", escapeutf8)
  if strfind (value, "[\194\216\220\225\226\239]") then
    value = fsub (value, "\194[\128-\159\173]", escapeutf8)
    value = fsub (value, "\216[\128-\132]", escapeutf8)
    value = fsub (value, "\220\143", escapeutf8)
    value = fsub (value, "\225\158[\180\181]", escapeutf8)
    value = fsub (value, "\226\128[\140-\143\168-\175]", escapeutf8)
    value = fsub (value, "\226\129[\160-\175]", escapeutf8)
    value = fsub (value, "\239\187\191", escapeutf8)
    value = fsub (value, "\239\191[\176-\191]", escapeutf8)
  end
  return "\"" .. value .. "\""
end
json.quotestring = quotestring

local function replace(str, o, n)
  local i, j = strfind (str, o, 1, true)
  if i then
    return strsub(str, 1, i-1) .. n .. strsub(str, j+1, -1)
  else
    return str
  end
end

-- locale independent num2str and str2num functions
local decpoint, numfilter

local function updatedecpoint ()
  decpoint = strmatch(tostring(0.5), "([^05+])")
  -- build a filter that can be used to remove group separators
  numfilter = "[^0-9%-%+eE" .. gsub(decpoint, "[%^%$%(%)%%%.%[%]%*%+%-%?]", "%%%0") .. "]+"
end

updatedecpoint()

local function num2str (num)
  return replace(fsub(tostring(num), numfilter, ""), decpoint, ".")
end

local function str2num (str)
  local num = tonumber(replace(str, ".", decpoint))
  if not num then
    updatedecpoint()
    num = tonumber(replace(str, ".", decpoint))
  end
  return num
end
--
File: nvim/.config/nvim/lua/init.lua
=========================================

--require("core.keybinds")
--require("core.autostart")


require("plugins.alpha")
require("plugins.autopairs")
require("plugins.completion")

require("plugins.latex")
require("plugins.lsp")
require("plugins.lualine")

require("plugins.luasnip")
require("plugins.neo-tree")
require("plugins.telescope")

require("plugins.themes")
require("plugins.treesitter")
require("plugins.trouble")

require("custom.copilot")





=========================================
File: reporte_hyprland.txt
=========================================

File: hypr/.config/hypr/conf/binds.conf
=========================================

# Keybindings
$mainMod = SUPER

# Application and utility binds
bind = $mainMod, T, exec, kitty
bind = $mainMod, R, exec, rofi -show drun -show-icons
bind = $mainMod, C, killactive,
bind = $mainMod, E, exec, nautilus
bind = $mainMod, L, exec, pidof hyprlock || hyprlock
bind = $mainMod, W, exec, ~/.config/hypr/scripts/reset_waybar.sh
bind = $mainMod, Q, exec, rofi -show run
bind = $mainMod, B, exec, opera
bind = $mainMod, S, exec, spotify

# Hyprland and script binds
#bind = $mainMod SHIFT, return, hyprexpo:expo, toggle
#bind = $mainMod SHIFT, N, exec, ~/.config/hypr/scripts/nigthligth.sh
bind = $mainMod SHIFT, L, exec, $HOME/.config/hypr/scripts/loguot.sh
bind = $mainMod SHIFT, P, exec, hyprpicker -a
bind = $mainMod SHIFT, E, exec, rofi -show filebrowser
bind = $mainMod SHIFT, R, exec, rofi -modi "emoji:rofimoji" -show emoji
bind = $mainMod SHIFT, N, exec, kitty --class Notas -e sh -c "nvim $HOME/Notas.md"
bind = $mainMod SHIFT, F, fullscreen


# Screenshot binds
bind = , PRINT, exec, ~/.config/hypr/scripts/screenshot.sh
bind = shift, PRINT, exec, hyprshot -m output

# Window and layout binds
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = $mainMod, V, togglefloating,

# Focus binds
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Workspace binds
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move to workspace binds
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Mouse binds
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Multimedia keys
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# Player controls
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Clipboard manager
bind = SUPER SHIFT, V, exec,  kitty --class clipse -e 'clipse'


=========================================
File: hypr/.config/hypr/conf/plugins.conf
=========================================

# Plugins
#plugin {
#    hyprexpo {
#        rows = 1
#        cols = 0
#        workspace_method = center
#        gap_size = 8
#        bg_col = rgba(10, 10, 10, 0.8)
#    }
#}


=========================================
File: hypr/.config/hypr/conf/window.conf
=========================================

# Window Rules
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = opaque, class:^(kitty)$
windowrulev2 = float, size 300 200, center, class:^(Notas)$

windowrulev2 = workspace 2, class:^(spotify)$
windowrulev2 = workspace 2, class:^(discord)$
windowrulev2 = float, title:^(Picture in Picture)$
windowrulev2 = float,class:(clipse)
windowrulev2 = size 622 652,class:(clipse)

windowrulev2 = workspace 3, class:^(Dotfiles)$


=========================================
File: hypr/.config/hypr/conf/input.conf
=========================================

# Input
input {
    kb_layout = latam
    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0
}

gesture = 3, horizontal, workspace


=========================================
File: hypr/.config/hypr/conf/general.conf
=========================================

# General
general {
    gaps_in = 2
    gaps_out = 4
    border_size = 1

    col.active_border = $color4
    col.inactive_border = $color0

    layout = dwindle
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

misc {
    vfr = true
}


=========================================
File: hypr/.config/hypr/conf/aesthetics.conf
=========================================

# Aesthetics

layerrule = blur, wlogout
layerrule = blur, ~/Dotfiles/hypr/.config/hypr/scripts/loguot.sh
layerrule = blur,logout_dialog

decoration {
    rounding = 5

    blur {
        enabled = true
        passes = 3
        size = 3

        ignore_opacity = true
        new_optimizations = on
        noise = 0.02
        contrast = 1.1
        brightness = 1.0
    }

    shadow {
        enabled = false
    }
}


=========================================
File: hypr/.config/hypr/conf/startup.conf
=========================================

# Autostart
exec-once = wal -R
exec-once = swayosd-server
exec-once = swaync
exec-once = hypridle &
exec-once = hyprpaper
exec-once = nm-applet &
exec-once = waybar &
#exec-once = hyprpm reload -n
exec-once = kdeconnectd
exec-once = kitty --class "Dotfiles" --directory ~/Dotfiles
exec-once = hyprsunset
exec-once = kdeconnect-indicator
exec-once = /usr/lib/evolution-data-server/evolution-alarm-notify
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

exec-once = dbus-update-activation-environment --systemd --all
# exec-once = gnome-keyring-daemon --start --components=pkcs11,secrets,ssh
exec-once = clipse -listen
--
bind = $mainMod SHIFT, N, exec, kitty --class Notas -e sh -c "nvim $HOME/Notas.md"


# Screenshot binds
bind = , PRINT, exec, ~/.config/hypr/scripts/screenshot.sh
bind = shift, PRINT, exec, hyprshot -m output

# Window and layout binds
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = $mainMod, V, togglefloating,

# Focus binds
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Workspace binds
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move to workspace binds
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Mouse binds
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Multimedia keys
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# Player controls
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Clipboard manager
bind = SUPER SHIFT, V, exec,  kitty --class clipse -e 'clipse'


=========================================
File: hypr/.config/hypr/conf/plugins.conf
=========================================

# Plugins
#plugin {
#    hyprexpo {
#        rows = 1
#        cols = 0
#        workspace_method = center
#        gap_size = 8
#        bg_col = rgba(10, 10, 10, 0.8)
#    }
#}


=========================================
File: hypr/.config/hypr/conf/window.conf
=========================================

# Window Rules
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = opaque, class:^(kitty)$
windowrulev2 = float, size 300 200, center, class:^(Notas)$

windowrulev2 = workspace 2, class:^(Spotify)$
windowrulev2 = workspace 2, class:^(discord)$
windowrulev2 = float, title:^(Picture in Picture)$
windowrulev2 = float,class:(clipse)
windowrulev2 = size 622 652,class:(clipse)

windowrulev2 = workspace 3, class:^(Dotfiles)$


=========================================
File: hypr/.config/hypr/conf/input.conf
=========================================

# Input
input {
    kb_layout = latam
    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0
}

gesture = 3, horizontal, workspace


=========================================
File: hypr/.config/hypr/conf/general.conf
=========================================

# General
general {
    gaps_in = 2
    gaps_out = 4
    border_size = 1

    col.active_border = $color4
    col.inactive_border = $color0

    layout = dwindle
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

misc {
    vfr = true
}


=========================================
File: hypr/.config/hypr/conf/aesthetics.conf
=========================================

# Aesthetics

layerrule = blur, wlogout
layerrule = blur, ~/Dotfiles/hypr/.config/hypr/scripts/loguot.sh
layerrule = blur,logout_dialog

decoration {
    rounding = 5

    blur {
        enabled = true
        passes = 3
        size = 3

        ignore_opacity = true
        new_optimizations = on
        noise = 0.02
        contrast = 1.1
        brightness = 1.0
    }

    shadow {
        enabled = false
    }
}


=========================================
File: hypr/.config/hypr/conf/startup.conf
=========================================

# Autostart
exec-once = wal -R
exec-once = swayosd-server
exec-once = swaync
exec-once = hypridle &
exec-once = hyprpaper
exec-once = nm-applet &
exec-once = waybar &
#exec-once = hyprpm reload -n
exec-once = kdeconnectd
exec-once = kitty --class "Dotfiles" --directory ~/Dotfiles
exec-once = hyprsunset
exec-once = kdeconnect-indicator
exec-once = /usr/lib/evolution-data-server/evolution-alarm-notify
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

exec-once = dbus-update-activation-environment --systemd --all
# exec-once = gnome-keyring-daemon --start --components=pkcs11,secrets,ssh
exec-once = clipse -listen

--
python-pynvim
python-pyqt5
qt6-tools
qt6-virtualkeyboard
reflector
rofi
rofimoji
rygel
sddm
seahorse
showtime
simple-scan
smartmontools
snapshot
sshfs
steam
stow
strace
stylua
sudo
sushi
swayosd
system-config-printer
taskwarrior-tui
tecla
terminator
texlive-basic
texlive-bibtexextra
texlive-binextra
texlive-context
texlive-fontsextra
texlive-fontsrecommended
texlive-fontutils
texlive-formatsextra
texlive-games
texlive-humanities
texlive-langenglish
texlive-langspanish
texlive-latexextra
texlive-luatex
texlive-mathscience
texlive-metapost
texlive-music
texlive-pstricks
texlive-publishers
texlive-xetex
timeshift
tldr
tlp
tlp-rdw
totem
tree
tree-sitter-cli
ttf-jetbrains-mono-nerd
ttf-nerd-fonts-symbols-mono
ufw
v4l2loopback-dkms
vi
vim
waybar
wget
wtype
xdg-desktop-portal-gtk
xdg-desktop-portal-hyprland
xdg-desktop-portal-wlr
xf86-video-amdgpu
xf86-video-vesa
xorg-bdftopcf
xorg-docs
xorg-font-util
xorg-fonts-100dpi
xorg-fonts-75dpi
xorg-iceauth
xorg-mkfontscale
xorg-server
xorg-server-devel
xorg-server-xephyr
xorg-server-xnest
xorg-server-xvfb
xorg-sessreg
xorg-smproxy
xorg-x11perf
xorg-xbacklight
xorg-xcmsdb
xorg-xcursorgen
xorg-xdpyinfo
xorg-xdriinfo
xorg-xev
xorg-xgamma
xorg-xhost
xorg-xinit
xorg-xinput
xorg-xkbevd
xorg-xkbutils
xorg-xkill
xorg-xlsatoms
xorg-xlsclients
xorg-xpr
xorg-xrefresh
xorg-xsetroot
xorg-xvinfo
xorg-xwd
xorg-xwininfo
xorg-xwud
xournalpp
yelp
zathura
zathura-pdf-mupdf
zsh


=========================================
File: Install/update_packages.sh
=========================================

#!/bin/bash
#
# This script automatically updates the package lists for the dotfiles repository.

# Ensure the script runs from its own directory to find the package files
cd "$(dirname "$0")"
rm aur_packages.txt
rm pacman_packages.txt

echo "Updating Pacman package list..."
pacman -Qenq > pacman_packages.txt

echo "Updating AUR package list..."
pacman -Qemq > aur_packages.txt

echo "‚úÖ Package lists updated successfully."


=========================================
File: Install/aur_packages.txt
=========================================

arduino-ide
ckan
clipse
electron30-bin
epson-inkjet-printer-escpr2
flat-remix-gtk
grimblast-git
http-parser
libfprint-goodixtls-55x4
matugen-bin
modrinth-app-bin
nordic-theme
opera
opera-ffmpeg-codecs-bin
python-jupytext
python-pywal16
sddm-sugar-candy-git
spicetify-cli
spotify
swaylock-effects
tty-clock
wf-recorder-git
wlogout
yay
zen-browser-bin
zoom


=========================================
File: Install/install.sh
=========================================

#!/bin/bash

# ===================================================================================
# THE ULTIMATE DOTFILES INSTALLATION SCRIPT V4.0
# Author: F-Patata2008, with revisions by your AI assistant
# ===================================================================================

# --- SCRIPT CONFIGURATION AND SAFETY ---
set -e; set -u; set -o pipefail
# Ensure the script is run from the 'Install' directory within Dotfiles
cd "$(dirname "$0")"
readonly LOG_FILE="$PWD/install_log_$(date +%F_%H-%M-%S).txt"
exec > >(tee -a "$LOG_FILE") 2>&1 # Redirect all output to log file and stdout

# --- CONFIGURATION ---
readonly GITHUB_USER="F-Patata2008"
readonly STOW_PACKAGES=(fastfetch hypr i3 i3status kitty nvim ohmyzsh picom polybar rofi rofimoji swaylock wal waybar zsh)
readonly PERSONAL_REPOS=(Apunte Progra Arduino-Codes F-Patata2008) # Corrected repo names
readonly SERVICES_TO_ENABLE=(
    NetworkManager.service bluetooth.service tlp.service cups.service
    powertop.service swayosd-libinput-backend.service check-bat.timer
)

# --- HELPER FUNCTIONS AND COLORS ---
readonly GREEN='\033[0;32m'; readonly RED='\033[0;31m'; readonly YELLOW='\033[1;33m'; readonly NC='\033[0m'
print_header() { echo -e "\n${YELLOW}========================================\n $1 \n========================================${NC}\n"; }
log_info() { echo -e "${GREEN}[INFO]${NC} $1"; }
log_warn() { echo -e "${YELLOW}[WARN]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }

# --- SCRIPT EXECUTION ---
# Request sudo privileges upfront and keep them alive.
sudo -v
while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

print_header "STARTING FULL ARCH LINUX SYSTEM SETUP"
log_info "Full installation log will be saved to: $LOG_FILE"

# --- FASE 0: PRE-FLIGHT CHECKS ---
print_header "FASE 0: PRE-FLIGHT CHECKS"
if ! ping -c 1 archlinux.org &> /dev/null; then
    log_error "No internet connection. Please connect and try again."
    exit 1
fi
log_info "‚úîÔ∏è Internet connection confirmed."

# --- FASE 1: PACKAGE INSTALLATION ---
print_header "FASE 1: INSTALLING PACMAN & AUR PACKAGES"
if ! grep -q "\[multilib\]" /etc/pacman.conf || grep -q "^#\[multilib\]" /etc/pacman.conf; then
    log_info "Enabling multilib repository..."
    sudo sed -i "/\[multilib\]/,/Include/"'s/^#//' /etc/pacman.conf
    sudo pacman -Syy
fi

log_info "Installing Pacman packages..."
sudo pacman -S --needed --noconfirm - < pacman_packages.txt || log_warn "Some pacman packages failed to install. Check the log."

log_info "Installing or updating yay..."
if ! command -v yay &> /dev/null; then
    sudo pacman -S --needed --noconfirm git base-devel
    (cd /tmp && git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si --noconfirm && cd / && rm -rf /tmp/yay)
fi

log_info "Installing AUR packages..."
yay -S --needed --noconfirm - < aur_packages.txt || log_warn "Some AUR packages failed to install. Check the log."
log_info "‚úîÔ∏è All packages installed."

# --- FASE 2: SPICETIFY SETUP ---
print_header "FASE 2: SETTING UP SPICETIFY"
if command -v spicetify &> /dev/null; then
    log_info "Configuring Spicetify..."
    sudo chmod a+wr /opt/spotify/Apps -R
    spicetify backup apply
    log_info "Installing Spicetify Marketplace..."
    (cd "$(spicetify -c | grep 'Custom apps')/.." && curl -fL "https://github.com/spicetify/spicetify-marketplace/releases/latest/download/spicetify-marketplace.zip" -o spicetify-marketplace.zip && unzip -o spicetify-marketplace.zip)
    spicetify apply
    log_info "‚úîÔ∏è Spicetify setup complete."
else
    log_warn "Spicetify not found. Skipping setup."
fi

# --- FASE 3: ZSH, OH MY ZSH & POWERLEVEL10K ---
print_header "FASE 3: SETTING UP ZSH & POWERLEVEL10K"
if [ ! -d "$HOME/.oh-my-zsh" ]; then
    log_info "Oh My Zsh not found, installing..."
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended
else
    log_info "Oh My Zsh already installed."
fi
P10K_DIR="${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k"
if [ ! -d "$P10K_DIR" ]; then
    log_info "Cloning Powerlevel10k..."
    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git "$P10K_DIR"
fi
if [[ "$SHELL" != "/bin/zsh" ]]; then
    log_info "Changing default shell to Zsh..."
    chsh -s "$(which zsh)"
fi
log_info "‚úîÔ∏è Zsh setup complete."

# --- FASE 4: CONDITIONAL FINGERPRINT SETUP ---
print_header "FASE 4: FINGERPRINT READER CONFIGURATION"
FINGERPRINT_ID="27c6:55b4"
if lsusb | grep -q "$FINGERPRINT_ID"; then
    log_info "Goodix $FINGERPRINT_ID fingerprint reader detected."
    read -p "Do you want to install the experimental community driver? (y/n): " choice
    if [[ "$choice" =~ ^[Yy]$ ]]; then
        yay -S --needed --noconfirm libfprint-goodixtls-55x4
        log_info "Enabling fingerprint authentication (PAM)..."
        FP_LINE="auth      sufficient      pam_fprintd.so"
        for pam_file in sudo sddm polkit-1; do
            if ! grep -q "pam_fprintd.so" "/etc/pam.d/$pam_file"; then
                sudo sed -i "1s,^,$FP_LINE\n," "/etc/pam.d/$pam_file"
                log_info "Patched /etc/pam.d/$pam_file"
            fi
        done
        sudo systemctl enable fprintd.service
        log_info "‚úîÔ∏è Fingerprint setup complete. Please enroll your fingerprints after reboot with 'fprintd-enroll'."
    else
        log_warn "Skipping fingerprint driver installation."
    fi
else
    log_info "No Goodix $FINGERPRINT_ID reader detected. Skipping."
fi

# --- FASE 5: SYSTEM CONFIGURATION & THEMES ---
print_header "FASE 5: APPLYING SYSTEM CONFIGS, THEMES & OPTIMIZATIONS"
log_info "Copying system-wide files (GRUB, Plymouth, services, etc.)..."
if [ -d "system-files" ]; then
    sudo cp -rT ./system-files/ / # -T treats source as a file, copying its contents
    log_info "‚úîÔ∏è System files restored."
else
    log_error "'system-files' directory not found. Cannot proceed with critical configs."
    exit 1
fi
log_info "Setting TTY keymap to la-latin1..."
sudo localectl set-keymap la-latin1
log_info "Setting Plymouth theme..."
sudo plymouth-set-default-theme -R minecraft-theme || log_warn "Failed to set Plymouth theme."
log_info "‚úîÔ∏è System configuration applied."

# --- FASE 6: ENABLING SYSTEM SERVICES ---
print_header "FASE 6: ENABLING CORE SYSTEM SERVICES"
for service in "${SERVICES_TO_ENABLE[@]}"; do
    if ! sudo systemctl is-enabled --quiet "$service"; then
        log_info "Enabling service: $service"
        sudo systemctl enable "$service"
    else
        log_info "Service $service is already enabled."
    fi
done
log_info "‚úîÔ∏è Core services enabled."

# --- FASE 7: REBUILD SYSTEM IMAGES ---
print_header "FASE 7: REBUILDING SYSTEM IMAGES (GRUB & MKINITCPIO)"
log_info "Updating initramfs..."
sudo mkinitcpio -P
log_info "Updating GRUB configuration..."
sudo grub-mkconfig -o /boot/grub/grub.cfg
log_info "‚úîÔ∏è System images rebuilt successfully."

# --- FASE 8: CLONE PERSONAL REPOSITORIES ---
print_header "FASE 8: CLONING PERSONAL REPOSITORIES"
mkdir -p "$HOME/Progra" "$HOME/Arduino" # Ensure parent directories exist
for repo in "${PERSONAL_REPOS[@]}"; do
    # Handle specific target directories
    TARGET_DIR="$HOME"
    if [[ "$repo" == "Progra" || "$repo" == "Arduino" ]]; then
        TARGET_DIR="$HOME/$repo"
    fi

    if [ ! -d "$TARGET_DIR/$(basename $repo)" ]; then
        log_info "Cloning '$repo'..."
        git clone "https://github.com/$GITHUB_USER/$repo.git" "$TARGET_DIR/$(basename $repo)"
    else
        log_info "Repository '$repo' already exists. Skipping."
    fi
done

# --- FASE 9: APPLY USER DOTFILES WITH STOW ---
print_header "FASE 9: APPLYING USER DOTFILES WITH GNU STOW"
log_info "This will overwrite existing configs in your home directory."
# Navigate to the parent directory of 'Install' to run stow
(cd .. && stow --restow --verbose "${STOW_PACKAGES[@]}")
log_info "‚úîÔ∏è All user dotfiles have been stowed."

# --- FASE 10: Final Steps ---
print_header "üéâ INSTALLATION COMPLETE! üéâ"
log_info "It is highly recommended to REBOOT NOW to apply all changes."
log_info "After reboot, remember to:"
log_info "  - Run 'fprintd-enroll' to add your fingerprints."
log_info "  - Launch Spotify once to let Spicetify finish its setup."
log_info "  - Enjoy your new system!"


=========================================
File: Install/chekcr.sh
=========================================

#!/bin/bash

# Directorios
DOTFILES_DIR="$HOME/Dotfiles"
OUTPUT_FILE="$HOME/Dotfiles/dotfiles_content.txt"
OUTPUT_FILENAME=$(basename "$OUTPUT_FILE")

# Check if directory exists
if [ ! -d "$DOTFILES_DIR" ]; then
  echo "Error: Directory $DOTFILES_DIR does not exist."
  exit 1
fi

# Limpiar archivo de salida
> "$OUTPUT_FILE"

echo "Generando reporte en $OUTPUT_FILE..."

--
‚îú‚îÄ‚îÄ nvim
‚îú‚îÄ‚îÄ ohmyzsh
‚îú‚îÄ‚îÄ picom
‚îú‚îÄ‚îÄ polybar
‚îú‚îÄ‚îÄ rofi
‚îú‚îÄ‚îÄ rofimoji
‚îú‚îÄ‚îÄ screenshots
‚îú‚îÄ‚îÄ swaylock
‚îú‚îÄ‚îÄ swaync
‚îú‚îÄ‚îÄ wal
‚îú‚îÄ‚îÄ Wallpapers
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Gundam
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ Macross
‚îú‚îÄ‚îÄ waybar
‚îú‚îÄ‚îÄ wlogout
‚îî‚îÄ‚îÄ zsh
49 Directories



## What I want to achieve:
-

- **Install Script Polishing** In a few months, when I enter Univeristy, I'm supposed to change pc (I haven't decided yet, but im between a Legion 5 and a Lenovo LOQ with same GPU, and an EDC, like a Thinkpad T14, HP Envy or ASUS Vivo and ZEN book), with the objective being to esaily move my config to this new pc, and adapt it for its own needs, like ditching the fingerprint sensor if the pc does not include one
    - It needs to be clone and execute, but having in consideration i will modify files leater to suit the screen size and type
    - Maintain themes and general configs
    - Install my Apps
    - Install my packages
    - Install Spotify from AUR
    - Setup Spicetify from AUR
    - Setup Spicetify Marketplace
    - Install yay
    -Chnage mirrors to chile, brazil, argentina, peru, for latest and fastets mirrors
    - Change shell to ZSH
    - Install Oh My ZSH
    - Install P10k
    - Actuvate UFW firewall
    - Update and install Microcode
    - Set Latin America keymap
    - Detect if PC has fingerprint reader, and if its the shezen 27c6:55b4, install its comunity experimental driver, wich is both a python install + AUR package
    - Setup Jetbrains Mono font
    - Setup Pam.d if pc has fingerprint reader
    - Activate hiberantion
    - Activate Swap
    - Set Plymouth Theme
    - Set Grub Theme
    - Set Printers, especially HP-Deksjet 1515, both for scanning and printing
    - Enable services:
        - Bluetooth
        - Fingerprint in case pc has
        - TLP (for power managment)
        - Network Manager
        - Cups
        - Powertop
        - SwayOSD
    - No hyprland plugins
    - Clone Personal Repos:
        - Apuntes
        - Progra
        - Arduino
        - Profile
    - Stow configs
    - Setupt battery monitor (I have a cron job for it in sys-files)
    - Log errors in case of a failed installtion

## Curent Install Script
My current installation script afetr migrating, its deficient, it does not chek if an app is alredy install and if so, skips it, does not install ohmyzsh, and other minor things that do not allow for a correct migration

```Install.sh
#!/bin/bash

# ===================================================================================
# THE ULTIMATE DOTFILES INSTALLATION SCRIPT V4.0
# Author: F-Patata2008, with revisions by your AI assistant
# ===================================================================================

# --- SCRIPT CONFIGURATION AND SAFETY ---
set -e; set -u; set -o pipefail
# Ensure the script is run from the 'Install' directory within Dotfiles
cd "$(dirname "$0")"
readonly LOG_FILE="$PWD/install_log_$(date +%F_%H-%M-%S).txt"
exec > >(tee -a "$LOG_FILE") 2>&1 # Redirect all output to log file and stdout

# --- CONFIGURATION ---
readonly GITHUB_USER="F-Patata2008"
readonly STOW_PACKAGES=(fastfetch hypr i3 i3status kitty nvim ohmyzsh picom polybar rofi rofimoji swaylock wal waybar zsh)
readonly PERSONAL_REPOS=(Apunte Progra Arduino-Codes F-Patata2008) # Corrected repo names
readonly SERVICES_TO_ENABLE=(
    NetworkManager.service bluetooth.service tlp.service cups.service
    powertop.service swayosd-libinput-backend.service check-bat.timer
)

# --- HELPER FUNCTIONS AND COLORS ---
readonly GREEN='\033[0;32m'; readonly RED='\033[0;31m'; readonly YELLOW='\033[1;33m'; readonly NC='\033[0m'
print_header() { echo -e "\n${YELLOW}========================================\n $1 \n========================================${NC}\n"; }
log_info() { echo -e "${GREEN}[INFO]${NC} $1"; }
log_warn() { echo -e "${YELLOW}[WARN]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }

# --- SCRIPT EXECUTION ---
# Request sudo privileges upfront and keep them alive.
sudo -v
while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

print_header "STARTING FULL ARCH LINUX SYSTEM SETUP"
log_info "Full installation log will be saved to: $LOG_FILE"

# --- FASE 0: PRE-FLIGHT CHECKS ---
print_header "FASE 0: PRE-FLIGHT CHECKS"
if ! ping -c 1 archlinux.org &> /dev/null; then
    log_error "No internet connection. Please connect and try again."
    exit 1
fi
log_info "‚úîÔ∏è Internet connection confirmed."

# --- FASE 1: PACKAGE INSTALLATION ---
print_header "FASE 1: INSTALLING PACMAN & AUR PACKAGES"
if ! grep -q "\[multilib\]" /etc/pacman.conf || grep -q "^#\[multilib\]" /etc/pacman.conf; then
    log_info "Enabling multilib repository..."
    sudo sed -i "/\[multilib\]/,/Include/"'s/^#//' /etc/pacman.conf
    sudo pacman -Syy
fi

log_info "Installing Pacman packages..."
sudo pacman -S --needed --noconfirm - < pacman_packages.txt || log_warn "Some pacman packages failed to install. Check the log."

log_info "Installing or updating yay..."
if ! command -v yay &> /dev/null; then
    sudo pacman -S --needed --noconfirm git base-devel
    (cd /tmp && git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si --noconfirm && cd / && rm -rf /tmp/yay)
fi

log_info "Installing AUR packages..."
yay -S --needed --noconfirm - < aur_packages.txt || log_warn "Some AUR packages failed to install. Check the log."
log_info "‚úîÔ∏è All packages installed."

# --- FASE 2: SPICETIFY SETUP ---
print_header "FASE 2: SETTING UP SPICETIFY"
if command -v spicetify &> /dev/null; then
    log_info "Configuring Spicetify..."
    sudo chmod a+wr /opt/spotify/Apps -R
    spicetify backup apply
    log_info "Installing Spicetify Marketplace..."
    (cd "$(spicetify -c | grep 'Custom apps')/.." && curl -fL "https://github.com/spicetify/spicetify-marketplace/releases/latest/download/spicetify-marketplace.zip" -o spicetify-marketplace.zip && unzip -o spicetify-marketplace.zip)
    spicetify apply
    log_info "‚úîÔ∏è Spicetify setup complete."
else
    log_warn "Spicetify not found. Skipping setup."
fi

# --- FASE 3: ZSH, OH MY ZSH & POWERLEVEL10K ---
print_header "FASE 3: SETTING UP ZSH & POWERLEVEL10K"
if [ ! -d "$HOME/.oh-my-zsh" ]; then
    log_info "Oh My Zsh not found, installing..."
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended
else
    log_info "Oh My Zsh already installed."
fi
P10K_DIR="${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k"
if [ ! -d "$P10K_DIR" ]; then
    log_info "Cloning Powerlevel10k..."
    git clone --depth=1 https://github.com/romkatv/powerlevel10k.git "$P10K_DIR"
fi
if [[ "$SHELL" != "/bin/zsh" ]]; then
    log_info "Changing default shell to Zsh..."
    chsh -s "$(which zsh)"
fi
log_info "‚úîÔ∏è Zsh setup complete."

# --- FASE 4: CONDITIONAL FINGERPRINT SETUP ---
print_header "FASE 4: FINGERPRINT READER CONFIGURATION"
FINGERPRINT_ID="27c6:55b4"
if lsusb | grep -q "$FINGERPRINT_ID"; then
    log_info "Goodix $FINGERPRINT_ID fingerprint reader detected."
    read -p "Do you want to install the experimental community driver? (y/n): " choice
    if [[ "$choice" =~ ^[Yy]$ ]]; then
        yay -S --needed --noconfirm libfprint-goodixtls-55x4
        log_info "Enabling fingerprint authentication (PAM)..."
        FP_LINE="auth      sufficient      pam_fprintd.so"
        for pam_file in sudo gdm-password polkit-1; do
            if ! grep -q "pam_fprintd.so" "/etc/pam.d/$pam_file"; then
                sudo sed -i "1s,^,$FP_LINE\n," "/etc/pam.d/$pam_file"
                log_info "Patched /etc/pam.d/$pam_file"
            fi
        done
        sudo systemctl enable fprintd.service
        log_info "‚úîÔ∏è Fingerprint setup complete. Please enroll your fingerprints after reboot with 'fprintd-enroll'."
    else
        log_warn "Skipping fingerprint driver installation."
    fi
else
    log_info "No Goodix $FINGERPRINT_ID reader detected. Skipping."
fi

# --- FASE 5: SYSTEM CONFIGURATION & THEMES ---
print_header "FASE 5: APPLYING SYSTEM CONFIGS, THEMES & OPTIMIZATIONS"
log_info "Copying system-wide files (GRUB, Plymouth, services, etc.)..."
if [ -d "system-files" ]; then
    sudo cp -rT ./system-files/ / # -T treats source as a file, copying its contents
    log_info "‚úîÔ∏è System files restored."
else
    log_error "'system-files' directory not found. Cannot proceed with critical configs."
    exit 1
fi
log_info "Setting TTY keymap to la-latin1..."
sudo localectl set-keymap la-latin1
log_info "Setting Plymouth theme..."
sudo plymouth-set-default-theme -R minecraft-theme || log_warn "Failed to set Plymouth theme."
log_info "‚úîÔ∏è System configuration applied."

# --- FASE 6: ENABLING SYSTEM SERVICES ---
print_header "FASE 6: ENABLING CORE SYSTEM SERVICES"
for service in "${SERVICES_TO_ENABLE[@]}"; do
    if ! sudo systemctl is-enabled --quiet "$service"; then
        log_info "Enabling service: $service"
        sudo systemctl enable "$service"
    else
        log_info "Service $service is already enabled."
    fi
done
log_info "‚úîÔ∏è Core services enabled."

# --- FASE 7: REBUILD SYSTEM IMAGES ---
print_header "FASE 7: REBUILDING SYSTEM IMAGES (GRUB & MKINITCPIO)"
log_info "Updating initramfs..."
sudo mkinitcpio -P
log_info "Updating GRUB configuration..."
sudo grub-mkconfig -o /boot/grub/grub.cfg
log_info "‚úîÔ∏è System images rebuilt successfully."

# --- FASE 8: CLONE PERSONAL REPOSITORIES ---
print_header "FASE 8: CLONING PERSONAL REPOSITORIES"
mkdir -p "$HOME/Progra" "$HOME/Arduino" # Ensure parent directories exist
for repo in "${PERSONAL_REPOS[@]}"; do
    # Handle specific target directories
    TARGET_DIR="$HOME"
    if [[ "$repo" == "Progra" || "$repo" == "Arduino" ]]; then
        TARGET_DIR="$HOME/$repo"
    fi

    if [ ! -d "$TARGET_DIR/$(basename $repo)" ]; then
        log_info "Cloning '$repo'..."
        git clone "https://github.com/$GITHUB_USER/$repo.git" "$TARGET_DIR/$(basename $repo)"
    else
        log_info "Repository '$repo' already exists. Skipping."
    fi
done

# --- FASE 9: APPLY USER DOTFILES WITH STOW ---
print_header "FASE 9: APPLYING USER DOTFILES WITH GNU STOW"
log_info "This will overwrite existing configs in your home directory."
# Navigate to the parent directory of 'Install' to run stow
(cd .. && stow --restow --verbose "${STOW_PACKAGES[@]}")
log_info "‚úîÔ∏è All user dotfiles have been stowed."

# --- FASE 10: Final Steps ---
print_header "üéâ INSTALLATION COMPLETE! üéâ"
log_info "It is highly recommended to REBOOT NOW to apply all changes."
log_info "After reboot, remember to:"
log_info "  - Run 'fprintd-enroll' to add your fingerprints."
log_info "  - Launch Spotify once to let Spicetify finish its setup."
log_info "  - Enjoy your new system!"

```
## My dotfiles repo:
https://github.com/F-Patata2008/DotFiles-New


=========================================
File: push.sh
=========================================

#!/bin/zsh

cd "$(dirname "$0")"  # Ir al directorio donde est√° el script

log_file="$PWD/push.log"
timestamp="$(date '+%Y-%m-%d %H:%M:%S')"

{
  echo "========== $timestamp =========="

  git add .

  if git diff --cached --quiet; then
    echo "[$timestamp] No hay cambios para commitear."
--
[submodule "nvim/.config/nvim/lua/Arduino-Nvim"]
	path = nvim/.config/nvim/lua/Arduino-Nvim
	url = https://github.com/yuukiflow/Arduino-Nvim.git


=========================================
File: rofi/.config/rofi/config.rasi
=========================================

/**
 * Rofi - Main Configuration
 *
 * This file defines the behavior of Rofi:
 * - Which modes are enabled (drun, run, window).
 * - Global settings like font and icons.
 * - The theme to use for the visual appearance.
 */
configuration {
    /* --- List of active modes --- */
    /* You can add/remove modes here, like "filebrowser" */
    modi: "drun,run,window,filebrowser, emoji:rofimoji";

    /* --- General settings --- */
    font: "JetBrainsMono Nerd Font 10";
    show-icons: true; /* Required for mode-switcher icons to display */

    /* --- Display names and icons for modes --- */
    display-drun: "ÔÄâ Apps ";
    display-run: "ÔÑ† Run ";
    display-window: "Ôãê Windows ";
    display-filebrowser: "ÔÅª Files ";
    display-emoji: "Û∞ûÖ Emoji ";

    /* --- Formatting for list items --- */
    drun-display-format: "{name}";
    window-format: "{w} ¬∑ {c} ¬∑ {t}";
}

/*
 * This line imports your custom theme.
 * Rofi applies the settings from above, then the visuals from this file.
 */
@import "~/.config/rofi/theme.rasi"


=========================================
File: rofi/.config/rofi/theme.rasi
=========================================

/**
 * Rofi theme to match the Tokyonight aesthetic
 * Version 3: Corrected selection color and spacing.
 */

configuration {
    font: "JetBrainsMono Nerd Font 12";
    show-icons: true;
}

* {
    background-color: transparent;
    text-color:       #c0caf5;
}

window {
    location:         center;
    anchor:           center;
    background-color: rgba(26, 27, 38, 0.9);
    border:           1px;
    border-color:     rgba(192, 202, 245, 0.2);
    border-radius:    12px;
    width:            40%;
    height:           45%;
    padding:          20px;
}

mainbox {
    children: [ inputbar, listview ];
    spacing:  20px; /* This adds the space you wanted */
}

inputbar {
    children: [ prompt, entry ];
    padding: 12px;
    border-radius: 8px;
    background-color: rgba(0,0,0,0.2);
}

prompt {
    enabled: true;
}

entry {
    placeholder: "Search...";
    placeholder-color: rgba(192, 202, 245, 0.7);
}

listview {
    padding: 5px;
    columns: 1;
    lines: 8;
    cycle: true;
    dynamic: true;
    layout: vertical;
}

element {
    orientation: horizontal;
    padding: 10px;
    border-radius: 8px;
}

element-icon {
    size: 1.8em;
    padding: 0 15px 0 0;
}

element-text {
    vertical-align: 0.5;
}

element.selected {
    background-color: #7aa2f7; /* Blue accent */
    text-color: #1a1b26;       /* Dark text for selected item */
}


=========================================
File: kitty/.config/kitty/kitty.conf
=========================================

font_family      JetBrainsMono Nerd Font
background_opacity 0.85
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 6.0
window_padding_width 5
cursor_shape beam

#include ~/.cache/wal/colors-kitty.conf
#
#
#
background            #181c27
foreground            #ada37a
cursor                #91805a
selection_background  #172539
color0                #181818
color8                #555555
color1                #800009
color9                #ab3834
color2                #48513b
color10               #a6a65d
color3                #cc8a3e
color11               #dcde7b
color4                #566d8c
color12               #2f97c6
color5                #724c7c
color13               #d33060
color6                #5b4f4a
color14               #f3dab1
color7                #ada37e
color15               #f3f3f3
selection_foreground #181c27


=========================================
File: .gitignore
=========================================

push.log


=========================================
File: rofimoji/.config/rofimoji.rc
=========================================

action = copy
files = [emojis, math]
skin-tone = moderate


=========================================
File: wlogout/.config/wlogout/style.css
=========================================

* {
    background-image: none;
    transition: all 0.3s cubic-bezier(.55, 0.0, .28, 1.682); /* Smooth transition from HyDE */
    font-size: 16px;
    border: none;
    box-shadow: none;
}

window {
    background-color: transparent;
}

button {
    color: #c0caf5;
    /* This semi-transparent background is what allows the blur (frost) to work */
--
kitty --class code_window --working-directory "$PROJECT_PATH" nvim . &
sleep 0.5 # Wait for the window to open and be focused

# 2. Set the split ratio for the NEXT window.
#    A value of 0.34 means the new window will take 34% of the space,
#    leaving the current 'code_window' with 66%.
hyprctl dispatch splitratio 0.34

# 3. Launch the first of the smaller windows. This will create the split.
kitty --class input_window --working-directory "$PROJECT_PATH" nvim input &
sleep 0.5 # Wait a moment

# 4. Launch the remaining windows. The dwindle layout will automatically
#    stack them vertically in the smaller pane.
kitty --class compile_window --working-directory "$PROJECT_PATH" zsh -c "cd \"$PROJECT_PATH\"; zsh" &
sleep 0.3 # Wait a moment

kitty --class exec_window --working-directory "$PROJECT_PATH" zsh -c "cd \"$PROJECT_PATH\"; zsh" &


=========================================
File: hypr/.config/hypr/scripts/README.md
=========================================

# Aqui estan mis sricots de hyprland


=========================================
File: hypr/.config/hypr/conf/binds.conf
=========================================

# Keybindings
$mainMod = SUPER

# Application and utility binds
bind = $mainMod, T, exec, kitty
bind = $mainMod, R, exec, rofi -show drun -show-icons
bind = $mainMod, C, killactive,
bind = $mainMod, E, exec, nautilus
bind = $mainMod, L, exec, pidof hyprlock || hyprlock
bind = $mainMod, W, exec, ~/.config/hypr/scripts/reset_waybar.sh
bind = $mainMod, Q, exec, rofi -show run
bind = $mainMod, B, exec, opera
bind = $mainMod, S, exec, spotify

# Hyprland and script binds
#bind = $mainMod SHIFT, return, hyprexpo:expo, toggle
#bind = $mainMod SHIFT, N, exec, ~/.config/hypr/scripts/nigthligth.sh
bind = $mainMod SHIFT, L, exec, $HOME/.config/hypr/scripts/loguot.sh
bind = $mainMod SHIFT, P, exec, hyprpicker -a
bind = $mainMod SHIFT, E, exec, rofi -show filebrowser
bind = $mainMod SHIFT, R, exec, rofi -modi "emoji:rofimoji" -show emoji
bind = $mainMod SHIFT, N, exec, kitty --class Notas -e sh -c "nvim $HOME/Notas.md"


# Screenshot binds
bind = , PRINT, exec, ~/.config/hypr/scripts/screenshot.sh
bind = shift, PRINT, exec, hyprshot -m output

# Window and layout binds
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = $mainMod, V, togglefloating,

# Focus binds
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Workspace binds
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move to workspace binds
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Mouse binds
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Multimedia keys
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower

# Player controls
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# Clipboard manager
bind = SUPER SHIFT, V, exec,  kitty --class clipse -e 'clipse'


=========================================
File: hypr/.config/hypr/conf/plugins.conf
=========================================

# Plugins
#plugin {
#    hyprexpo {
#        rows = 1
#        cols = 0
#        workspace_method = center
#        gap_size = 8
#        bg_col = rgba(10, 10, 10, 0.8)
#    }
#}


=========================================
File: hypr/.config/hypr/conf/window.conf
=========================================

# Window Rules
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = opaque, class:^(kitty)$
windowrulev2 = float, size 300 200, center, class:^(Notas)$

windowrulev2 = workspace 2, class:^(Spotify)$
windowrulev2 = workspace 2, class:^(discord)$
windowrulev2 = float, title:^(Picture in Picture)$
windowrulev2 = float,class:(clipse)
windowrulev2 = size 622 652,class:(clipse)

windowrulev2 = workspace 3, class:^(Dotfiles)$


=========================================
File: hypr/.config/hypr/conf/input.conf
=========================================

# Input
input {
    kb_layout = latam
    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0
}

gesture = 3, horizontal, workspace


=========================================
File: hypr/.config/hypr/conf/general.conf
=========================================

# General
general {
    gaps_in = 2
    gaps_out = 4
    border_size = 1

    col.active_border = $color4
    col.inactive_border = $color0

    layout = dwindle
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

misc {
    vfr = true
}


=========================================
File: hypr/.config/hypr/conf/aesthetics.conf
=========================================

# Aesthetics

layerrule = blur, wlogout
layerrule = blur, ~/Dotfiles/hypr/.config/hypr/scripts/loguot.sh
layerrule = blur,logout_dialog

decoration {
    rounding = 5

    blur {
        enabled = true
        passes = 3
        size = 3

        ignore_opacity = true
        new_optimizations = on
        noise = 0.02
        contrast = 1.1
        brightness = 1.0
    }

    shadow {
        enabled = false
    }
}


=========================================
File: hypr/.config/hypr/conf/startup.conf
=========================================

# Autostart
exec-once = wal -R
exec-once = swayosd-server
exec-once = swaync
exec-once = hypridle &
exec-once = hyprpaper
exec-once = nm-applet &
exec-once = waybar &
#exec-once = hyprpm reload -n
exec-once = kdeconnectd
exec-once = kitty --class "Dotfiles" --directory ~/Dotfiles
exec-once = hyprsunset
exec-once = kdeconnect-indicator
exec-once = /usr/lib/evolution-data-server/evolution-alarm-notify
exec-once = /usr/lib/xdg-desktop-portal-hyprland
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

exec-once = dbus-update-activation-environment --systemd --all
# exec-once = gnome-keyring-daemon --start --components=pkcs11,secrets,ssh
exec-once = clipse -listen

--
# Function to open nvim with current directory if no arguments are given
nv() {
  if [ $# -eq 0 ]; then
    # No arguments were provided, so run nvim in the current directory
    nvim .
  else
    # Arguments were provided, so pass them all to nvim
    nvim "$@"
  fi
}


# Zsh plugins to load.
plugins=(
    git
    colored-man-pages
    command-not-found
    cp
    archlinux
    autojump
    themes
    zsh-autosuggestions
    zsh-syntax-highlighting
)

# Source Oh My Zsh.
source $ZSH/oh-my-zsh.sh

# Source autojump script.
# This needs to be done on Arch after installing the package.
[ -f /etc/profile.d/autojump.zsh ] && . /etc/profile.d/autojump.zsh

# --- User Configuration ---

# Preferred editor
export EDITOR='nvim'
export BROWSER='opera'


# +++ ADD THIS BLOCK +++
# Load all custom .zsh files (like aliases.zsh and shortcuts.zsh)
# The path ~/.zsh/custom works because 'stow' symlinks ~/Dotfiles/zsh to ~/.zsh
for file in ~/.zsh/custom/*.zsh; do
  if [ -r "$file" ]; then
    source "$file"
  fi
done
# +++ END OF BLOCK +++


# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh


# Run fastfetch once, right before the first prompt is drawn
run_fastfetch_once() {
  fastfetch
  # Unregister this function so it only runs once per session
  precmd_functions=(${precmd_functions[@]/run_fastfetch_once})
}
#precmd_functions+=(run_fastfetch_once)
#


=========================================
File: zsh/.zsh/custom/shorcuts.zsh
=========================================

#Atajos Probabilidad y Estadistica
Apunte=~/Clases/Probabilidad\ y\ Estadistica/Apunte/
Trabajo=~/Clases/Probabilidad\ y\ Estadistica/Trabajos/
Proyecto=~/Clases/Probabilidad\ y\ Estadistica/

#Atajo ZSH
bash=~/.oh-my-zsh/custom/

#Atajos Prog
C=~/Progra/CIPC/
#Java=~/Prog/Java/
Python=~/Progra/Python/
arduino=~/Arduino/


=========================================
File: zsh/.zsh/custom/aliases.zsh
=========================================

#alias nv='nvim'

alias clases='cd ~/Apunte/'
alias PE='nvim ~/Apunte/Probabilidad\ y\ Estadistica/Apunte/Apunte.tex'
alias prob='cd ~/Apunte//Probabilidad\ y\ Estadistica/'


alias please='sudo $(fc -ln -1)'
alias update='sh $HOME/Dotfiles/hypr/.config/hypr/scripts/update.sh'

alias 'exec zsh'='clear; exec zsh'
alias tl='java -jar ~/Desktop/TLauncher.v16/TLauncher.jar'
alias cl='clear; tree'
alias arduino='sudo chmod a+rw /dev/ttyACM0'


alias wifi='nmcli dev wifi list --rescan yes'
alias celu='nmcli dev wifi connect "Doxiado" --ask'
alias papo="nmcli dev wifi connect \"Alvaro's A53\" --ask"
alias movil="nmcli dev wifi connect WHATSAPP-COLLI --ask"

# My custom power profiles for TLP
alias set-powersave="echo powersave | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo power | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"
alias set-balanced="echo schedutil | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo balance_power | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"
alias set-performance="echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor && echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/energy_performance_preference"


=========================================
File: zsh/.p10k.zsh
=========================================

# Generated by Powerlevel10k configuration wizard on 2025-10-06 at 16:13 -03.
# Based on romkatv/powerlevel10k/config/p10k-rainbow.zsh, checksum 49619.
# Wizard options: nerdfont-v3 + powerline, small icons, rainbow, unicode, 24h time,
# angled separators, round heads, round tails, 2 lines, solid, full frame,
# darkest-ornaments, sparse, many icons, fluent, instant_prompt=off.
# Type `p10k configure` to generate another config.
#
# Config for Powerlevel10k with powerline prompt style with colorful background.
# Type `p10k configure` to generate your own config based on it.
#
# Tip: Looking for a nice color? Here's a one-liner to print colormap.
#
#   for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+$'\n'}; done

# Temporarily change options.
'builtin' 'local' '-a' 'p10k_config_opts'
[[ ! -o 'aliases'         ]] || p10k_config_opts+=('aliases')
[[ ! -o 'sh_glob'         ]] || p10k_config_opts+=('sh_glob')
[[ ! -o 'no_brace_expand' ]] || p10k_config_opts+=('no_brace_expand')
'builtin' 'setopt' 'no_aliases' 'no_sh_glob' 'brace_expand'

() {
  emulate -L zsh -o extended_glob

  # Unset all configuration options. This allows you to apply configuration changes without
  # restarting zsh. Edit ~/.p10k.zsh and type `source ~/.p10k.zsh`.
  unset -m '(POWERLEVEL9K_*|DEFAULT_USER)~POWERLEVEL9K_GITSTATUS_DIR'

  # Zsh >= 5.1 is required.
  [[ $ZSH_VERSION == (5.<1->*|<6->.*) ]] || return

  # The list of segments shown on the left. Fill it with the most important segments.
  typeset -g POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(
    # =========================[ Line #1 ]=========================
    os_icon                 # os identifier
    dir                     # current directory
    vcs                     # git status
    # =========================[ Line #2 ]=========================
    newline                 # \n
    # prompt_char           # prompt symbol
  )

  # The list of segments shown on the right. Fill it with less important segments.
  # Right prompt on the last prompt line (where you are typing your commands) gets
  # automatically hidden when the input line reaches it. Right prompt above the
  # last prompt line gets hidden if it would overlap with left prompt.
  typeset -g POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(
    # =========================[ Line #1 ]=========================
    status                  # exit code of the last command
    command_execution_time  # duration of the last command
    background_jobs         # presence of background jobs
    direnv                  # direnv status (https://direnv.net/)
    asdf                    # asdf version manager (https://github.com/asdf-vm/asdf)
    virtualenv              # python virtual environment (https://docs.python.org/3/library/venv.html)
    anaconda                # conda environment (https://conda.io/)
    pyenv                   # python environment (https://github.com/pyenv/pyenv)
    goenv                   # go environment (https://github.com/syndbg/goenv)
    nodenv                  # node.js version from nodenv (https://github.com/nodenv/nodenv)
    nvm                     # node.js version from nvm (https://github.com/nvm-sh/nvm)
    nodeenv                 # node.js environment (https://github.com/ekalinin/nodeenv)
    # node_version          # node.js version
    # go_version            # go version (https://golang.org)
    # rust_version          # rustc version (https://www.rust-lang.org)
    # dotnet_version        # .NET version (https://dotnet.microsoft.com)
    # php_version           # php version (https://www.php.net/)
    # laravel_version       # laravel php framework version (https://laravel.com/)
    # java_version          # java version (https://www.java.com/)
    # package               # name@version from package.json (https://docs.npmjs.com/files/package.json)
    rbenv                   # ruby version from rbenv (https://github.com/rbenv/rbenv)
    rvm                     # ruby version from rvm (https://rvm.io)
    fvm                     # flutter version management (https://github.com/leoafarias/fvm)
    luaenv                  # lua version from luaenv (https://github.com/cehoffman/luaenv)
    jenv                    # java version from jenv (https://github.com/jenv/jenv)
    plenv                   # perl version from plenv (https://github.com/tokuhirom/plenv)
    perlbrew                # perl version from perlbrew (https://github.com/gugod/App-perlbrew)
    phpenv                  # php version from phpenv (https://github.com/phpenv/phpenv)
    scalaenv                # scala version from scalaenv (https://github.com/scalaenv/scalaenv)
    haskell_stack           # haskell version from stack (https://haskellstack.org/)
    kubecontext             # current kubernetes context (https://kubernetes.io/)
    terraform               # terraform workspace (https://www.terraform.io)
    # terraform_version     # terraform version (https://www.terraform.io)
    aws                     # aws profile (https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html)
    aws_eb_env              # aws elastic beanstalk environment (https://aws.amazon.com/elasticbeanstalk/)
    azure                   # azure account name (https://docs.microsoft.com/en-us/cli/azure)
    gcloud                  # google cloud cli account and project (https://cloud.google.com/)
    google_app_cred         # google application credentials (https://cloud.google.com/docs/authentication/production)
    toolbox                 # toolbox name (https://github.com/containers/toolbox)
    context                 # user@hostname
    nordvpn                 # nordvpn connection status, linux only (https://nordvpn.com/)
    ranger                  # ranger shell (https://github.com/ranger/ranger)
    yazi                    # yazi shell (https://github.com/sxyazi/yazi)
    nnn                     # nnn shell (https://github.com/jarun/nnn)
    lf                      # lf shell (https://github.com/gokcehan/lf)
    xplr                    # xplr shell (https://github.com/sayanarijit/xplr)
    vim_shell               # vim shell indicator (:sh)
    midnight_commander      # midnight commander shell (https://midnight-commander.org/)
    nix_shell               # nix shell (https://nixos.org/nixos/nix-pills/developing-with-nix-shell.html)
    chezmoi_shell           # chezmoi shell (https://www.chezmoi.io/)
    vi_mode                 # vi mode (you don't need this if you've enabled prompt_char)
    # vpn_ip                # virtual private network indicator
    # load                  # CPU load
    # disk_usage            # disk usage
    # ram                   # free RAM
    # swap                  # used swap
    todo                    # todo items (https://github.com/todotxt/todo.txt-cli)
    timewarrior             # timewarrior tracking status (https://timewarrior.net/)
    taskwarrior             # taskwarrior task count (https://taskwarrior.org/)
    per_directory_history   # Oh My Zsh per-directory-history local/global indicator
    # cpu_arch              # CPU architecture
    time                    # current time
    # =========================[ Line #2 ]=========================
    newline
    # ip                    # ip address and bandwidth usage for a specified network interface
    # public_ip             # public IP address
    # proxy                 # system-wide http/https/ftp proxy
    # battery               # internal battery
    # wifi                  # wifi speed
    # example               # example user-defined segment (see prompt_example function below)
  )

  # Defines character set used by powerlevel10k. It's best to let `p10k configure` set it for you.
  typeset -g POWERLEVEL9K_MODE=nerdfont-v3
  # When set to `moderate`, some icons will have an extra space after them. This is meant to avoid
  # icon overlap when using non-monospace fonts. When set to `none`, spaces are not added.
  typeset -g POWERLEVEL9K_ICON_PADDING=none

  # When set to true, icons appear before content on both sides of the prompt. When set
  # to false, icons go after content. If empty or not set, icons go before content in the left
  # prompt and after content in the right prompt.
  #
  # You can also override it for a specific segment:
  #
  #   POWERLEVEL9K_STATUS_ICON_BEFORE_CONTENT=false
  #
  # Or for a specific segment in specific state:
  #
  #   POWERLEVEL9K_DIR_NOT_WRITABLE_ICON_BEFORE_CONTENT=false
  typeset -g POWERLEVEL9K_ICON_BEFORE_CONTENT=

  # Add an empty line before each prompt.
  typeset -g POWERLEVEL9K_PROMPT_ADD_NEWLINE=true

  # Connect left prompt lines with these symbols. You'll probably want to use the same color
  # as POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_FOREGROUND below.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX='%238F‚ï≠‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_PREFIX='%238F‚îú‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX='%238F‚ï∞‚îÄ'
  # Connect right prompt lines with these symbols.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_SUFFIX='%238F‚îÄ‚ïÆ'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_SUFFIX='%238F‚îÄ‚î§'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_SUFFIX='%238F‚îÄ‚ïØ'

  # Filler between left and right prompt on the first prompt line. You can set it to ' ', '¬∑' or
  # '‚îÄ'. The last two make it easier to see the alignment between left and right prompt and to
  # separate prompt from command output. You might want to set POWERLEVEL9K_PROMPT_ADD_NEWLINE=false
  # for more compact prompt if using this option.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_CHAR='‚îÄ'
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_BACKGROUND=
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_GAP_BACKGROUND=
  if [[ $POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_CHAR != ' ' ]]; then
    # The color of the filler. You'll probably want to match the color of POWERLEVEL9K_MULTILINE
    # ornaments defined above.
    typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_FOREGROUND=238
    # Start filler from the edge of the screen if there are no left segments on the first line.
    typeset -g POWERLEVEL9K_EMPTY_LINE_LEFT_PROMPT_FIRST_SEGMENT_END_SYMBOL='%{%}'
    # End filler on the edge of the screen if there are no right segments on the first line.
    typeset -g POWERLEVEL9K_EMPTY_LINE_RIGHT_PROMPT_FIRST_SEGMENT_START_SYMBOL='%{%}'
  fi

  # Separator between same-color segments on the left.
  typeset -g POWERLEVEL9K_LEFT_SUBSEGMENT_SEPARATOR='\uE0B1'
  # Separator between same-color segments on the right.
  typeset -g POWERLEVEL9K_RIGHT_SUBSEGMENT_SEPARATOR='\uE0B3'
